(this["webpackJsonpnodejs-express-sequelize-postgresql"]=this["webpackJsonpnodejs-express-sequelize-postgresql"]||[]).push([[0],{31:function(e,t){e.exports={appIp:"http://10.1.2.145:5000",apiUrlPrefix:"/TimeSheetManagement/Working",allowedPageSizes:[10,20,25,50,100,250],defaultPageSize:10,fields:{typeList:"typeId,typeName,typeCode,updateDate,updateBy,createDate,createBy",projectList:"projectId,projectName,projectPhase,projectDetail,projectStartDate,projectEndDate,projectManDays,customerEmail,updateDate,updateBy,createDate,createBy",workList:"workId,projectId,typeId,workDate,workDetail,workPlan,workRef,workManhour,workTimeIn,workTimeOut,updateDate,updateBy,createDate,createBy"},msgAlert:{updated:"Your data has been updated successfully.",saved:"Your data has been saved successfully.",deleted:"Your data has been deleted successfully.",systemError:"Please contact your administrator."},msgConfirm:{saved:"Please confirm your configuration.",deleted:"Are you sure you want to delete this?"},validDateFill:{req:"Please fill in the information.",work:{validWorkDate:"Please fill in the information.",validWorkDateEdit:"Please fill in the information.",validProjectName:"Please fill in the information.",validJobType:"Please fill in the information.",validTimeIn:"Please fill in the information.",validTimeOut:"Please fill in the information.",validManHours:"Please click a time in and time out.",validWorkDetail:"Please fill in the information.",validTimeInmoreTimeOut:"The time in must be less than the time out.",validTimeOutlessTimeIn:"The time out must be greater than the time in."},project:{validEmail:"You entered the email incorrectly.",validStartDatemoreEndDate:"The start date must be less than the end date.",validEndDatelessStartDate:"The end date must be greater than the start date."}}}},360:function(e,t,a){},361:function(e,t,a){},631:function(e,t,a){"use strict";a.r(t);var s=a(2),i=a(1),r=a.n(i),n=a(51),c=a.n(n),l=(a(360),a(19)),o=a(20),d=a(22),p=a(21),u=(a(361),a(149),a(102)),j=a(45),h=a(641),m=a(642),b=a(643),x=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{class:"gx-header-horizontal gx-header-horizontal-dark gx-below-header-horizontal",style:{position:"sticky",top:0,zIndex:9999},children:Object(s.jsx)("header",{class:"ant-layout-header gx-header-horizontal-main",children:Object(s.jsx)("div",{class:"gx-container",children:Object(s.jsxs)("div",{class:"gx-header-horizontal-main-flex",children:[Object(s.jsx)("div",{class:"gx-header-search gx-d-none gx-d-lg-flex",children:Object(s.jsx)("div",{class:"gx-search-bar gx-lt-icon-search-bar-lg",children:Object(s.jsx)("div",{class:"gx-form-group",children:Object(s.jsx)("span",{style:{color:"#fff",fontSize:"22pt",fontWeight:700},children:"SMARTADMIN"})})})}),Object(s.jsxs)("ul",{class:"gx-header-notifications gx-ml-auto",children:[Object(s.jsx)("li",{class:"gx-notify",style:{fontSize:"20pt"},children:Object(s.jsx)(j.b,{to:"/work",children:Object(s.jsxs)("span",{class:"gx-pointer gx-d-block",children:[Object(s.jsxs)("span",{className:"icon-header",children:[" ",Object(s.jsx)(h.a,{style:{color:"#fff"}}),"  "]}),"Work"]})})}),Object(s.jsx)("li",{class:"gx-msg",style:{fontSize:"20pt"},children:Object(s.jsx)(j.b,{to:"/project",children:Object(s.jsxs)("span",{class:"gx-pointer gx-status-pos gx-d-block",children:[Object(s.jsxs)("span",{className:"icon-header",children:[" ",Object(s.jsx)(m.a,{}),"  "]}),"Project"]})})}),Object(s.jsx)("li",{class:"gx-msg",children:Object(s.jsx)(j.b,{to:"/jobtype",style:{fontSize:"20pt"},children:Object(s.jsxs)("span",{class:"gx-pointer gx-status-pos gx-d-block",children:[Object(s.jsxs)("span",{className:"icon-header",children:["  ",Object(s.jsx)(b.a,{}),"  "]}),"Job type"]})})}),Object(s.jsx)("li",{class:"gx-msg",style:{color:"#fff"},children:Object(s.jsx)("span",{style:{color:"#fff",fontSize:36},class:"gx-pointer gx-status-pos gx-d-block",children:Object(s.jsx)(u.b,{})})})]})]})})})})})}}]),a}(i.Component),O=a(50),f=a(634),g=a(4),v=a(57),y=function(){return Object(s.jsx)("div",{className:"has-text-centered"})},S=a(16),w=a.n(S),N=a(35),D=a(39),k=(a(167),a(168),a(90)),C=a.n(k),P=(a(310),a(40)),T=a.n(P),I=a(636),V=a(644),A=a(645),M=a(639),E=a(646),_=a(37),L=a.n(_),R=a(638),H=a(91),z=a(29),G=a.n(z),W=a(213),F=function(e){return Object(s.jsx)("svg",{"aria-hidden":"true",style:e.style,focusable:"false","data-prefix":"fas","data-icon":"check",class:"svg-inline--fa fa-check fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(s.jsx)("path",{fill:"currentColor",d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"})})},Y=function(e){return Object(s.jsx)("svg",{"aria-hidden":"true",style:e.style,focusable:"false","data-prefix":"fas","data-icon":"times",class:"svg-inline--fa fa-times fa-w-11",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512",children:Object(s.jsx)("path",{fill:"currentColor",d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})})},U=function(e){var t=e.successStatus,a=e.errorStatus,r=e.loadingStatus,n=e.message;Object(i.useEffect)((function(){}),[]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(R.a,{centered:!0,footer:null,header:null,visible:a,width:650,onOk:function(){e.onOk()},closable:!1,children:a?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("span",{className:"popup-icon-error",style:{display:"flow-root",textAlign:"center",justifyContent:"center"},children:Object(s.jsx)(Y,{style:{width:"70px",color:"#fff",top:12,position:"relative"}})}),Object(s.jsxs)("div",{style:{textAlign:"center",bottom:50,position:"relative"},children:[Object(s.jsx)("p",{className:"popup-title",children:" System Error "}),Object(s.jsxs)("p",{className:"popup-sub-title",children:[" ",n||""," "]}),Object(s.jsx)("div",{style:{textAlign:"center",position:"relative",top:20},children:Object(s.jsx)(H.a,{style:{background:"red"},className:"btn-popup-custom error",onClick:function(){e.clearActive()},children:"OK"})})]})]}):null}),Object(s.jsx)(R.a,{centered:!0,footer:null,header:null,visible:t,width:650,closable:!1,onOk:function(){e.onOk()},children:t?Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{style:{textAlign:"center"},children:[Object(s.jsx)("span",{className:"popup-icon-success",style:{display:"flow-root",textAlign:"center",justifyContent:"center"},children:Object(s.jsx)(F,{style:{width:"75px",color:"#fff",top:20,position:"relative"}})}),Object(s.jsxs)("div",{style:{textAlign:"center",bottom:50,position:"relative"},children:[Object(s.jsx)("p",{className:"popup-title",children:" Success "}),Object(s.jsxs)("p",{className:"popup-sub-title",children:[" ",n||""," "]}),Object(s.jsx)("div",{style:{textAlign:"center",position:"relative",top:20},children:Object(s.jsx)(H.a,{className:"btn-popup-custom success",onClick:function(){e.clearActive()},children:"OK"})})]})]})}):null}),Object(s.jsx)(R.a,{centered:!0,footer:null,header:null,visible:r,width:500,closable:!1,onOk:function(){e.onOk()},children:r?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{children:Object(s.jsxs)("div",{style:{textAlign:"center"},children:[Object(s.jsx)("div",{style:{display:"flow-root",textAlign:"center",justifyContent:"center"},children:r?Object(s.jsx)(W.a,{style:{color:"rgb(226 189 82)",fontSize:"75px"}}):null}),Object(s.jsx)("div",{style:{textAlign:"center"},children:Object(s.jsxs)("p",{style:{fontSize:17,marginTop:15,marginBottom:15},children:[n?Object(s.jsx)("span",{dangerouslySetInnerHTML:{__html:n}}):""," "]})})]})})}):null})]})},J=function(e){var t=e.open,a=e.type,i=(e.del,function(){e.confirmActive(e.data)});return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(R.a,{centered:!0,footer:null,header:null,visible:t,width:650,closable:!1,onOk:function(){e.onClose()},children:"save"===a?Object(s.jsx)("div",{children:Object(s.jsxs)("div",{style:{textAlign:"center",margin:40},children:[Object(s.jsx)("p",{className:"popup-title save",style:{color:"#38B000"},children:" Confirm "}),Object(s.jsxs)("p",{className:"popup-sub-title",children:[" ",e.text]}),Object(s.jsx)("div",{style:{textAlign:"center",position:"relative",top:20},children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-6",style:{textAlign:"end"},children:Object(s.jsx)("button",{className:"btn-custom btn-reset",htmlType:"submit",onClick:function(){e.clearActive()},children:"No"})}),Object(s.jsx)("div",{className:"col-6",style:{textAlign:"start"},children:Object(s.jsx)("button",{className:"btn-custom success",style:{background:"#38B000"},onClick:function(){i()},children:"Yes"})})]})})]})}):Object(s.jsx)("div",{children:Object(s.jsxs)("div",{style:{textAlign:"center",margin:40},children:[Object(s.jsx)("p",{className:"popup-title del",style:{color:"red"},children:" Confirm "}),Object(s.jsxs)("p",{className:"popup-sub-title",children:[" ",e.text]}),Object(s.jsx)("div",{style:{textAlign:"center",position:"relative",top:20},children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-6",style:{textAlign:"end"},children:Object(s.jsx)(H.a,{className:"btn-custom  btn-reset",onClick:function(){e.clearActive()},children:"No"})}),Object(s.jsx)("div",{className:"col-6",style:{textAlign:"start"},children:Object(s.jsx)(H.a,{htmlType:"submit",className:"btn-custom error",style:{background:"red"},onClick:function(){i()},children:"Yes"})})]})})]})})})})},B=a(31),q=a.n(B),K=a(47),$=a.n(K),Q=a(89),X=q.a.msgAlert,Z=q.a.msgConfirm,ee=q.a.appIp+q.a.apiUrlPrefix,te={of:"#App"},ae=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).state={isOpen:!1},i.openModal=function(){return i.setState({isOpen:!0})},i.closeModal=function(){return i.setState({isOpen:!1})},i.handleReset=function(){i.setState({filter:{projectName:""}}),setTimeout((function(){i.fnGetData()}),100)},i.onTypeNameChange=function(e){i.setState({filter:{projectName:e.target.value}})},i.onSearch=function(){i.setState({loadPanelVisible:!0}),i.fnGetData()},i.onDeleteData=function(){var e=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.a.delete(ee+"/project/"+t);case 3:(a=e.sent)&&200===a.status&&(a.data&&"20000"===a.data.resultCode?(i.setState({isOpen:!1}),i.setState({isPopupError:!1}),i.setState({isPopupSuccess:!0}),i.setState({isPopupMsg:X.deleted})):(i.setState({isOpen:!1}),i.setState({isPopupError:!0}),i.setState({isPopupSuccess:!1}),i.setState({isPopupMsg:X.systemError}))),e.next=15;break;case 7:e.prev=7,e.t0=e.catch(0),i.setState({loadPanelVisible:!1}),i.setState({isOpen:!1}),i.setState({isPopupError:!0}),i.setState({isPopupSuccess:!1}),i.setState({isPopupMsg:X.systemError}),console.log("TCL: Project -> fnGetData -> error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),i.fnGetData=Object(N.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t={}).filter={},t.fields=q.a.fields.projectList,t.limit=i.state.pageSize,t.offset=i.state.pageIndex,t.orderby="projectName",console.log("\ud83d\ude80 ~ file: index.js ~ line 164 ~ Project ~ fnGetData= ~ this.state.filter",i.state.filter),i.state.filter.projectName&&""!==i.state.filter.projectName&&(t.filter.projectName=i.state.filter.projectName),e.next=11,$.a.get(ee+"/project",{params:t});case 11:(a=e.sent)&&200===a.status&&(a.data&&a.data.resultCode,i.setState({data:a.data.resultData})),i.setState({loadPanelVisible:!1}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),i.setState({loadPanelVisible:!1}),console.log("TCL: Project -> fnGetData -> error",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])}))),i.delCellRender=function(e){return console.log("project -> DelcellRender -> data",e),Object(s.jsx)("a",{onClick:function(){i.setState({isOpen:!0,isTypeShowConfirm:"del",isTextMsg:Z.deleted,isDataPopUp:e.data.projectId})},children:Object(s.jsx)("span",{style:{color:"#111",fontSize:"12pt"},children:Object(s.jsx)(V.a,{})})})},i.editCellRender=function(e){return Object(s.jsx)(j.b,{to:"/project"+'/{"action":"edit","projectId":"'.concat(e.data.projectId,'"}'),children:Object(s.jsx)("span",{style:{color:"black",fontSize:"12pt"},children:Object(s.jsx)(A.a,{})})})},i.viewCellRender=function(e){return Object(s.jsx)(j.b,{to:"/project"+'/{"action":"view","projectId":"'.concat(e.data.projectId,'"}'),children:Object(s.jsx)("span",{style:{color:"black",fontSize:"12pt"},children:Object(s.jsx)(M.a,{})})})},i.noCellRender=function(e){return Object(s.jsx)("span",{style:{color:"black",fontSize:"12pt"},children:e.component.pageIndex()*e.component.pageSize()+e.rowIndex+1})},i.onProjectNameChange=function(e){i.setState({filter:Object(g.a)(Object(g.a)({},i.state.filter),{},{projectName:e.target.value})})},i.state={isPopupSuccess:!1,isPopupError:!1,isPopupMsg:"",isOpen:!1,isTypeShowConfirm:"",isDataPopUp:{},isTextMsg:"",filter:{projectName:null},data:[],pageSize:q.a.defaultPageSize,pageIndex:0,loadPanelVisible:!1},i.dataGridRef=r.a.createRef(),i.getTotalPageCount=function(){return i.dataGridRef.current.instance.pageCount()},i.changePageSize=i.changePageSize.bind(Object(D.a)(i)),i.goToLastPage=i.goToLastPage.bind(Object(D.a)(i)),i.handleOptionChange=i.handleOptionChange.bind(Object(D.a)(i)),i}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fnGetData()}},{key:"changePageSize",value:function(e){this.setState({pageSize:e})}},{key:"goToLastPage",value:function(){var e=this.dataGridRef.current.instance.pageCount();this.setState({pageIndex:e-1})}},{key:"handleOptionChange",value:function(e){console.log("TCL: JobType -> handleOptionChange -> e",e),"paging.pageSize"===e.fullName&&this.setState({pageSize:e.value}),"paging.pageIndex"===e.fullName&&this.setState({pageIndex:e.value})}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"App",id:"App",children:Object(s.jsx)("div",{id:"boxType",className:"container-box-content",children:Object(s.jsxs)("div",{className:"row wrap-container",children:[Object(s.jsxs)(I.a,{children:[Object(s.jsx)(E.a,{}),Object(s.jsx)("span",{className:"breadcrum-custom",children:" Project "})]}),Object(s.jsx)("div",{className:"wrap-content",children:Object(s.jsxs)("div",{className:"box-search",children:[Object(s.jsx)("div",{className:"box-title-search",children:Object(s.jsx)("p",{className:"font-size-search",children:" Search Project "})}),Object(s.jsx)("div",{className:"box-content",children:Object(s.jsxs)("div",{className:"box-search-border",children:[Object(s.jsxs)("form",{children:[Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"}})}),Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-3",style:{textAlign:"right"},children:Object(s.jsx)("label",{className:"title-field",for:"txtProjectName",children:"Project Name"})}),Object(s.jsx)("input",{type:"text",class:"form-control col-6",id:"txtProjectName",value:this.state.filter.projectName,onChange:this.onProjectNameChange})]})]}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsxs)("div",{className:"col-12",style:{textAlign:"center"},children:[Object(s.jsx)("button",{class:"btn-custom btn-reset ",style:{marginRight:20},onClick:this.handleReset,children:"RESET"}),Object(s.jsx)("button",{class:"btn-custom btn-search ",onClick:this.onSearch,children:"SEARCH"})]})})]})})]})}),Object(s.jsx)("div",{className:"wrap-content",children:Object(s.jsxs)("div",{className:"box-search",style:{padding:30},children:[Object(s.jsx)("div",{style:{textAlign:"end",padding:15},children:Object(s.jsx)(j.b,{to:'/project/{"action":"create"}',children:Object(s.jsxs)("button",{className:"btn-custom btn-search ",style:{width:250},children:[Object(s.jsx)("span",{className:"btn-icon",children:Object(s.jsx)(u.a,{})}),Object(s.jsx)("span",{className:"btn-txt-icon",children:"Create Project"})]})})}),Object(s.jsx)("div",{style:{padding:20},children:Object(s.jsxs)(L.a,{dataSource:this.state.data,showBorders:!0,showRowLines:!0,ref:this.dataGridRef,noDataText:"No Data",onOptionChanged:this.handleOptionChange,children:[Object(s.jsx)(_.Paging,{defaultPageSize:q.a.defaultPageSize,pageSize:this.state.pageSize,pageIndex:this.state.pageIndex}),Object(s.jsx)(_.Pager,{showPageSizeSelector:!0,allowedPageSizes:q.a.allowedPageSizes,showInfo:!0,showNavigationButtons:!0,visible:!0,remoteOperations:!0}),Object(s.jsx)(_.Column,{width:"100",caption:"No",alignment:"center",cellRender:this.noCellRender,dataType:"string"}),Object(s.jsx)(_.Column,{caption:"Project Name",dataField:"projectName",alignment:"center",dataType:"string"}),Object(s.jsx)(_.Column,{caption:"Phase",dataField:"projectPhase",alignment:"center",dataType:"string"}),Object(s.jsx)(_.Column,{width:"100",alignment:"center",caption:"View",cellRender:this.viewCellRender}),Object(s.jsx)(_.Column,{width:"100",alignment:"center",caption:"Edit",cellRender:this.editCellRender}),Object(s.jsx)(_.Column,{width:"100",alignment:"center",cellRender:this.delCellRender,caption:"Delete"})]})})]})})]})})}),Object(s.jsx)(Q.LoadPanel,{shadingColor:"rgba(0,0,0,0.4)",position:te,visible:this.state.loadPanelVisible}),Object(s.jsx)(U,{successStatus:this.state.isPopupSuccess,errorStatus:this.state.isPopupError,message:this.state.isPopupMsg,clearActive:function(){e.setState({isPopupError:!1}),e.setState({isPopupSuccess:!1}),e.fnGetData()}}),Object(s.jsx)(J,{open:this.state.isOpen,type:this.state.isTypeShowConfirm,text:this.state.isTextMsg,data:this.state.isDataPopUp,del:!1,onClose:function(){e.setState({isOpen:!1})},clearActive:function(t){e.setState({isOpen:!1})},confirmActive:function(t){console.log("Work -> render -> e",t),e.onDeleteData(t)}})]})}}]),a}(r.a.Component),se=q.a.msgAlert,ie=q.a.msgConfirm,re=q.a.appIp+q.a.apiUrlPrefix,ne={of:"#App"},ce=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).state={isOpen:!1},i.openModal=function(){return i.setState({isOpen:!0})},i.closeModal=function(){return i.setState({isOpen:!1})},i.onTypeNameChange=function(e){i.setState({filter:Object(g.a)(Object(g.a)({},i.state.filter),{},{typeName:e.target.value})})},i.onTypeCodeChange=function(e){i.setState({filter:Object(g.a)(Object(g.a)({},i.state.filter),{},{typeCode:e.target.value})})},i.handleReset=function(){i.setState({loadPanelVisible:!0}),i.setState({filter:{typeName:"",typeCode:""}}),setTimeout((function(){i.fnGetData()}),100)},i.delCellRender=function(e){return Object(s.jsx)("a",{onClick:function(){i.setState({isOpen:!0,isTypeShowConfirm:"del",isTextMsg:ie.deleted,isDataPopUp:e.data.typeId})},children:Object(s.jsx)("span",{style:{color:"#111",fontSize:"12pt"},children:Object(s.jsx)(V.a,{})})})},i.editCellRender=function(e){return Object(s.jsx)(j.b,{to:"/jobtype"+'/{"action":"edit","jobTypeId":"'.concat(e.data.typeId,'"}'),children:Object(s.jsx)("span",{style:{color:"black",fontSize:"12pt"},children:Object(s.jsx)(A.a,{})})})},i.noCellRender=function(e){return Object(s.jsx)("span",{style:{color:"black",fontSize:"12pt"},children:e.component.pageIndex()*e.component.pageSize()+e.rowIndex+1})},i.onSearch=function(){i.setState({loadPanelVisible:!0}),i.fnGetData()},i.onDeleteData=function(){var e=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.a.delete(re+"/type/"+t);case 3:(a=e.sent)&&200===a.status&&(a.data&&"20000"===a.data.resultCode?(i.setState({isOpen:!1}),i.setState({isPopupError:!1}),i.setState({isPopupSuccess:!0}),i.setState({isPopupMsg:se.deleted})):(i.setState({isOpen:!1}),i.setState({isPopupError:!0}),i.setState({isPopupSuccess:!1}),i.setState({isPopupMsg:se.systemError}))),e.next=15;break;case 7:e.prev=7,e.t0=e.catch(0),i.setState({loadPanelVisible:!1}),i.setState({isOpen:!1}),i.setState({isPopupError:!0}),i.setState({isPopupSuccess:!1}),i.setState({isPopupMsg:se.systemError}),console.log("TCL: JobType -> fnGetData -> error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),i.fnGetData=Object(N.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t={}).filter={},t.fields=q.a.fields.typeList,t.limit=i.state.pageSize,t.offset=i.state.pageIndex,t.orderby="typeName",i.state.filter.typeName&&""!==i.state.filter.typeName&&(t.filter.typeName=i.state.filter.typeName),i.state.filter.typeCode&&""!==i.state.filter.typeCode&&(t.filter.typeCode=i.state.filter.typeCode),e.next=11,$.a.get(re+"/type",{params:t});case 11:(a=e.sent)&&200===a.status&&(a.data&&a.data.resultCode,i.setState({data:a.data.resultData})),i.setState({loadPanelVisible:!1}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),i.setState({loadPanelVisible:!1}),console.log("TCL: JobType -> fnGetData -> error",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])}))),i.state={isPopupSuccess:!1,isPopupError:!1,isPopupMsg:"Please contact your administrator.",isOpen:!1,isTypeShowConfirm:"del",isDataPopUp:{},isTextMsg:"Are you sure you want to delete this?",filter:{typeName:null,typeCode:null},data:[],pageSize:q.a.defaultPageSize,pageIndex:0,loadPanelVisible:!1},i.dataGridRef=r.a.createRef(),i.getTotalPageCount=function(){return i.dataGridRef.current.instance.pageCount()},i.changePageSize=i.changePageSize.bind(Object(D.a)(i)),i.goToLastPage=i.goToLastPage.bind(Object(D.a)(i)),i.handleOptionChange=i.handleOptionChange.bind(Object(D.a)(i)),i}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fnGetData();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changePageSize",value:function(e){this.setState({pageSize:e})}},{key:"goToLastPage",value:function(){var e=this.dataGridRef.current.instance.pageCount();this.setState({pageIndex:e-1})}},{key:"handleOptionChange",value:function(e){console.log("TCL: JobType -> handleOptionChange -> e",e),"paging.pageSize"===e.fullName&&this.setState({pageSize:e.value}),"paging.pageIndex"===e.fullName&&this.setState({pageIndex:e.value})}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"App",id:"App",children:Object(s.jsx)("div",{id:"boxType",className:"container-box-content",children:Object(s.jsxs)("div",{className:"row wrap-container",children:[Object(s.jsxs)(I.a,{children:[Object(s.jsx)(E.a,{}),Object(s.jsx)("span",{className:"breadcrum-custom",children:" Job Type "})]}),Object(s.jsx)("div",{className:"wrap-content",children:Object(s.jsxs)("div",{className:"box-search",children:[Object(s.jsx)("div",{className:"box-title-search",children:Object(s.jsx)("p",{className:"font-size-search",children:" Search Job Type "})}),Object(s.jsx)("div",{className:"box-content",children:Object(s.jsxs)("div",{className:"box-search-border",children:[Object(s.jsxs)("form",{children:[Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"}})}),Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsx)("label",{for:"txtTypeName",className:"title-field",children:"Job Type"})}),Object(s.jsx)("input",{type:"text",class:"form-control col-3",id:"txtTypeName",value:this.state.filter.typeName,onChange:this.onTypeNameChange})]}),Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsx)("label",{for:"txtTypeCode",className:"title-field",children:"Code"})}),Object(s.jsx)("input",{type:"text",class:"form-control col-3",id:"txtTypeCode",value:this.state.filter.typeCode,onChange:this.onTypeCodeChange})]})]}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsxs)("div",{className:"col-12",style:{textAlign:"center"},children:[Object(s.jsx)("button",{class:"btn-custom btn-reset ",style:{marginRight:20},onClick:this.handleReset,children:"RESET"}),Object(s.jsx)("button",{class:"btn-custom btn-search ",onClick:this.onSearch,children:"SEARCH"})]})})]})})]})}),Object(s.jsx)("div",{className:"wrap-content",children:Object(s.jsxs)("div",{className:"box-search",style:{padding:30},children:[Object(s.jsx)("div",{style:{textAlign:"end",padding:15},children:Object(s.jsx)(j.b,{to:'/jobtype/{"action":"create"}',children:Object(s.jsxs)("button",{className:"btn-custom btn-search ",style:{width:250},children:[Object(s.jsx)("span",{className:"btn-icon",children:Object(s.jsx)(u.a,{})}),Object(s.jsx)("span",{className:"btn-txt-icon",children:"Create Job Type"})]})})}),Object(s.jsx)("div",{style:{padding:20},children:Object(s.jsxs)(L.a,{dataSource:this.state.data,showBorders:!0,showRowLines:!0,ref:this.dataGridRef,noDataText:"No Data",onOptionChanged:this.handleOptionChange,children:[Object(s.jsx)(_.Paging,{defaultPageSize:q.a.defaultPageSize,pageSize:this.state.pageSize,pageIndex:this.state.pageIndex}),Object(s.jsx)(_.Pager,{showPageSizeSelector:!0,allowedPageSizes:q.a.allowedPageSizes,showInfo:!0,showNavigationButtons:!0,visible:!0,remoteOperations:!0}),Object(s.jsx)(_.Column,{width:"100",caption:"No",alignment:"center",cellRender:this.noCellRender,dataType:"string"}),Object(s.jsx)(_.Column,{caption:"Job Type",dataField:"typeName",dataType:"string",alignment:"center"}),Object(s.jsx)(_.Column,{caption:"Code",dataField:"typeCode",dataType:"string",alignment:"center"}),Object(s.jsx)(_.Column,{width:"100",alignment:"center",caption:"Edit",cellRender:this.editCellRender}),Object(s.jsx)(_.Column,{width:"100",alignment:"center",cellRender:this.delCellRender,caption:"Delete"})]})}),Object(s.jsx)(Q.LoadPanel,{shadingColor:"rgba(0,0,0,0.4)",position:ne,visible:this.state.loadPanelVisible})]})})]})})}),Object(s.jsx)(U,{successStatus:this.state.isPopupSuccess,errorStatus:this.state.isPopupError,message:this.state.isPopupMsg,clearActive:function(){e.setState({isPopupError:!1}),e.setState({isPopupSuccess:!1}),e.setState({loadPanelVisible:!0}),e.fnGetData()}}),Object(s.jsx)(J,{open:this.state.isOpen,type:this.state.isTypeShowConfirm,text:this.state.isTextMsg,data:this.state.isDataPopUp,del:!1,onClose:function(){e.setState({isOpen:!1})},clearActive:function(t){e.setState({isOpen:!1})},confirmActive:function(t){console.log("Work -> render -> e",t),e.onDeleteData(t)}})]})}}]),a}(r.a.Component),le=a(5),oe=a(343),de=a(344),pe=a.n(de),ue=a(637),je=a(635),he=a(345),me=(a(629),Object(he.extendMoment)(G.a)),be=q.a.msgAlert,xe=q.a.msgConfirm,Oe=q.a.validDateFill,fe="HH:mm A",ge=ue.a.Option,ve=q.a.appIp+q.a.apiUrlPrefix,ye={of:"#App"},Se=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var i;Object(l.a)(this,a),(i=t.call(this,e)).handleProjectChange=function(e){i.setState({filter:Object(g.a)(Object(g.a)({},i.state.filter),{},{projectId:e.target.value})})},i.handleTypeChange=function(e){i.setState({filter:Object(g.a)(Object(g.a)({},i.state.filter),{},{typeId:e.target.value})})},i.handleChangeDateFrom=function(e,t){"from"===t?i.setState({filter:Object(g.a)(Object(g.a)({},i.state.filter),{},{dateFrom:e.value})}):i.setState({filter:Object(g.a)(Object(g.a)({},i.state.filter),{},{dateTo:e.value})})},i.handleChangeDate=function(e,t){for(var a=T.a.cloneDeep(i.state.updateData.data),s=0;s<a.length;s++){a[s].workDate=e.value}e.value&&""===e.value||i.setState({isValid_workDate:!1}),i.setState({updateData:e.value,data:a})},i.handleReset=function(){i.setState({filter:{dateFrom:G()().clone().startOf("month").toDate(),dateTo:G()().clone().endOf("month").toDate(),projectId:null,typeId:null}}),setTimeout((function(){i.fnGetData()}),100)},i.onSearch=function(){i.setState({loadPanelVisible:!0}),i.fnGetData()},i.groupRender=function(e){var t=G()(e.value,"YYYY/MM/DD").format("dddd"),a=(e.data.items&&e.data.items.length>0?e.data.items[0].workId:e.data.collapsedItems&&e.data.collapsedItems.length>0&&e.data.collapsedItems[0].workId,"DATE : ".concat(e.value,"  ").concat(t)),r=G()().format("YYYY-MM-DD"),n='"'+e.value.replace(/\//g,"%2F")+'"';return console.log("TCL: groupRender -> workDate",n),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{style:{fontSize:"12pt"},className:"col-6 ".concat("Sunday"===t||"Saturday"===t?"color-red":e.value===r?"color-blue":"color-black"),children:a}),0===e.data.items.length||void 0===e.data.items[0].workId?Object(s.jsx)("div",{className:"col-6",style:{textAlign:"end"},children:Object(s.jsx)(j.b,{to:"/work"+'/{"action":"create","workDate":'.concat(n,"}"),children:Object(s.jsx)(u.a,{style:{backgroundColor:"green",borderRadius:"50%",width:"30",height:"30"}})})}):Object(s.jsxs)("div",{className:"col-6",style:{textAlign:"end"},children:[Object(s.jsx)(j.b,{to:"/work"+'/{"action":"edit","workDate":'.concat(n,',"workId":').concat(e.data.items[0].workId,"}"),children:Object(s.jsx)("span",{className:"custom-icon-group",style:{color:"black",fontSize:"12pt",marginRight:20},children:Object(s.jsx)(A.a,{})})}),Object(s.jsx)("a",{className:"custom-icon-group",onClick:function(){console.log(e.data,"data.datadata.datadata.datadata.data"),i.setState({isOpen:!0,isTypeShowConfirm:"del",isTextMsg:xe.deleted,isDataPopUp:[e.data,"all"],isDelete:!0})},children:Object(s.jsx)("span",{style:{color:"#111",fontSize:"12pt",marginRight:20},children:Object(s.jsx)(V.a,{})})})]})]})},i.actionRender=function(e){return Object(s.jsxs)(s.Fragment,{children:[" ",e.key&&e.key.workId?Object(s.jsx)(pe.a,{text:"...",dropDownOptions:{width:100},items:i.dataPopup,displayExpr:"name",keyExpr:"id",onItemClick:function(t){i.onItemClick(t,e)}}):null]})},i.onItemClick=function(e,t){console.log("TCL: onItemClick -> data",t),"Edit"===e.itemData.name?i.setState({popupEditVisable:!0,updateData:Object(g.a)(Object(g.a)({},t.data),{},{workTimeIn:G()(t.data.workTimeIn,"HH:mm A"),workTimeOut:G()(t.data.workTimeOut,"HH:mm A"),timeIn:t.data.workTimeIn,timeOut:t.data.workTimeOut})}):"Delete"===e.itemData.name&&i.setState({isOpen:!0,isTypeShowConfirm:"del",isTextMsg:xe.deleted,isDataPopUp:[t.data,"one"],isDelete:!0})},i.onDeleteData=function(){var e=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.a.post(ve+"/work/",t);case 3:(a=e.sent)&&200===a.status&&(a.data&&"20000"===a.data.resultCode?(i.setState({isOpen:!1}),i.setState({isPopupError:!1}),i.setState({isPopupSuccess:!0}),i.setState({isPopupMsg:be.deleted})):(i.setState({isOpen:!1}),i.setState({isPopupError:!0}),i.setState({isPopupSuccess:!1}),i.setState({isPopupMsg:be.systemError}))),e.next=15;break;case 7:e.prev=7,e.t0=e.catch(0),i.setState({loadPanelVisible:!1}),i.setState({isOpen:!1}),i.setState({isPopupError:!0}),i.setState({isPopupSuccess:!1}),i.setState({isPopupMsg:be.systemError}),console.log("TCL: Work -> fnGetData -> error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),i.onUpdateData=function(e){console.log("TCL: onDeleteData -> data",e);for(var t=T.a.cloneDeep(i.state.data),a=0;a<t.length;a++){if(t[a].workId===i.state.updateData.workId){var s=i.state.updateData.workManhour.split(":");t[a]=i.state.updateData,t[a].workManhour=s[0],t[a].workTimeIn=i.state.updateData.timeIn,t[a].workTimeOut=i.state.updateData.timeOut}}i.setState({popupEditVisable:!1}),i.setState({data:t}),i.setState({isOpen:!1}),i.setState({isPopupError:!1}),i.setState({isPopupSuccess:!0}),i.setState({isPopupMsg:be.updated})},i.checkValidData=function(){var e=i.checkValid("project"),t=i.checkValid("job"),a=i.checkValid("in"),s=i.checkValid("out"),r=i.checkValid("hours"),n=i.checkValid("detail"),c=i.checkGreaterTime();e&&t&&a&&s&&r&&n&&c?i.setState({isOpen:!0,isTypeShowConfirm:"save",isTextMsg:xe.saved,isDataPopUp:i.state.updateData,isDelete:!1}):console.log("TCL: ActionsWork -> checkValidData -> ","\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e44\u0e21\u0e48\u0e04\u0e23\u0e1a")},i.checkValid=function(e){var t=T.a.cloneDeep(i.state.updateData),a=!0;if("project"===e){var s=t,r=i.state.isValid_projectName;s.projectId&&""!==s.projectId||(a=!1,r=!0,i.setState({isValid_projectName:r}))}else if("job"===e){var n=t,c=i.state.isValid_jobType;n.typeId&&""!==n.typeId||(a=!1,c=!0,i.setState({isValid_jobType:c}))}else if("in"===e){var l=t,o=i.state.isValid_timeIn;l.workTimeIn&&""!==l.workTimeIn||(a=!1,o=!0,i.setState({isValid_timeIn:o}))}else if("out"===e){var d=t,p=i.state.isValid_timeOut;d.workTimeOut&&""!==d.workTimeOut||(a=!1,p=!0,i.setState({isValid_timeOut:p}))}else if("hours"===e){var u=t,j=i.state.isValid_manHours;u.workManhour&&""!==u.workManhour||(a=!1,j=!0,i.setState({isValid_manHours:j}))}else if("detail"===e){var h=t,m=i.state.isValid_detail;h.workDetail&&""!==h.workDetail||(a=!1,m=!0,i.setState({isValid_detail:m}))}return a},i.confirmSave=function(e){console.log("TCL: ActionsWork -> confirmSave -> data",e),i.setState({isOpen:!1}),i.setState({isPopupError:!1}),i.setState({isPopupSuccess:!0}),i.setState({isPopupMsg:"edit"===i.state.params.action?be.updated:be.saved})},i.onWorkManHoursChange=function(e){var t=T.a.cloneDeep(i.state.updateData);t.workManhour=e.target.value;var a=i.state.isValid_timeOut;e.target.value&&""===e.target.value||(a=!1),i.setState({updateData:t,isValid_timeOut:a})},i.onWorkUrlChange=function(e){console.log("TCL: ActionsWork -> onWorkUrlChange -> event",e);var t=T.a.cloneDeep(i.state.updateData);t.workUrl=e.target.value,console.log("TCL: ActionsWork -> onWorkUrlChange -> temp",t),i.setState({updateData:t})},i.onWorkDetailChange=function(e,t){var a=T.a.cloneDeep(i.state.updateData);a.workDetail=e.target.value;var s=i.state.isValid_detail;e.target.value&&""===e.target.value||(s=!1),i.setState({updateData:a,isValid_detail:s})},i.onWorkPlanChange=function(e,t){var a=T.a.cloneDeep(i.state.updateData);a.workPlan=e.target.value;var s=i.state.isValid_Plan;e.target.value&&""===e.target.value||(s=!1),i.setState({updateData:a,isValid_Plan:s})},i.onWorkRefChange=function(e,t){var a=T.a.cloneDeep(i.state.updateData);a.workRef=e.target.value;var s=i.state.isValid_Ref;e.target.value&&""===e.target.value||(s=!1),i.setState({updateData:a,isValid_Ref:s})},i.handleChangeProject=function(e,t){var a=i.state.updateData;a.projectName=e;var s=i.state.isValid_projectName;console.log("TCL: ActionsWork -> handleChangeProject -> valid",s),e&&""===e||(s=!1),i.setState({updateData:a,isValid_projectName:s}),console.log("TCL: ActionsWork -> handleChangeProject -> ",i.state)},i.handleChangeType=function(e,t){var a=i.state.updateData;a.typeName=e;var s=i.state.isValid_jobType;console.log("TCL: ActionsWork -> handleChangeType -> valid",s),e&&""===e||(s=!1),i.setState({updateData:a,isValid_jobType:s}),console.log("TCL: ActionsWork -> handleChangeType -> ",i.state)},i.calManHours=function(){var e=T.a.cloneDeep(i.state.updateData);console.log("TCL: calManHours -> temp",e);var t=i.state.isValid_timeIn,a=i.state.isValid_timeOut;if(!e.timeIn||""===e.timeIn||!e.timeOut||""===e.timeOut)return e.timeOut&&""!==e.timeOut||(a=!0,i.setState({isValid_timeOut:a})),void(e.timeIn&&""!==e.timeIn||(t=!0,i.setState({isValid_timeIn:t})));if(!1!==i.checkGreaterTime()){var s=G()(e.timeIn,"HH:mm A").format("HH:mm"),r=G()(e.timeOut,"HH:mm A").format("HH:mm"),n=i.fnCallDiffTime(s,r),c="",l=n.split(":"),o=s.split(":"),d=r.split(":");if(s<="12:00"&&r>="13:00"){var p=parseInt(l[0])-1;c=(p<=9?"0":"")+p+":"+l[1]}else if(s>"12:00"&&s<"13:00"){if(r<="13:00")c="00:00";else if(r>"13:00")if(parseInt(o[1])<=parseInt(d[1])){var u=parseInt(l[0])-1;c=(u<=9?"0":"")+u+":"+d[1]}else{var j=parseInt(d[1]),h=parseInt(l[0]);c=(h<=9?"0":"")+h+":"+(j<=9?"0":"")+j}}else c=n;e.workManhour=c,i.setState({updateData:e})}else console.log("TCL: ActionsWork -> calManHours -> ","time out > time in")},i.fnCallDiffTime=function(e,t){e=e.split(":"),t=t.split(":");var a=new Date(0,0,0,e[0],e[1],0),s=new Date(0,0,0,t[0],t[1],0).getTime()-a.getTime(),i=Math.floor(s/1e3/60/60);s-=1e3*i*60*60;var r=Math.floor(s/1e3/60);return i<0&&(i+=24),(i<=9?"0":"")+i+":"+(r<=9?"0":"")+r},i.onChangeTimeIn=function(e,t){console.log("TCL: onChangeTimeIn -> timestring",t),console.log("TCL: onChangeTimeIn -> time",e);var a=i.state.updateData;a.workTimeIn=e,a.timeIn=t;var s=i.state.isValid_timeIn;t&&""===t||(s=!1),i.setState({updateData:a,isValid_timeIn:s})},i.onChangeTimeOut=function(e,t){var a=i.state.updateData;a.workTimeOut=e,a.timeOut=t;var s=i.state.isValid_timeOut;t&&""===t||(s=!1),i.setState({updateData:a,isValid_timeOut:s})},i.fnGetData=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(N.a)(w.a.mark((function e(t,a){var s,r,n,c,l,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,(s={}).filter={},s.fields=q.a.fields.workList,s.limit=i.state.pageSize,s.offset=i.state.pageIndex,s.orderby="projectName",i.state.filter.projectName&&""!==i.state.filter.projectName&&(s.filter.projectName=i.state.filter.projectName),i.state.filter.typeName&&""!==i.state.filter.typeName&&(s.filter.typeName=i.state.filter.typeName),i.state.filter.dateFrom&&""!==i.state.filter.dateFrom&&(s.filter.dateFrom=i.state.filter.dateFrom),i.state.filter.dateTo&&""!==i.state.filter.dateTo&&(s.filter.dateTo=i.state.filter.dateTo),r=G()(i.state.filter.dateFrom),n=G()(i.state.filter.dateTo),console.log(i.state.filter.dateFrom),console.log(i.state.filter.dateTo),i.dateOfCurrentMouth=[],c=r;c.isSameOrBefore(n,"day");c=c.add(1,"day"))i.dateOfCurrentMouth.push({workDate:c.format("YYYY/MM/DD")}),console.log(c.format("YYYY/MM/DD"));return console.log("\ud83d\ude80 ~ file: index.js ~ line 829 ~ Work ~ returnnewPromise ~ this.dateOfCurrentMouth",i.dateOfCurrentMouth),e.next=20,$.a.get(ve+"/work",{params:s});case 20:(l=e.sent)&&200===l.status&&(l.data&&"20000"===l.data.resultCode?(console.log("\ud83d\ude80 ~ file: index.js ~ line 751 ~ Work ~ returnnewPromise ~ this.state.data",i.state.data),console.log("\ud83d\ude80 ~ file: index.js ~ line 849 ~ Work ~ returnnewPromise ~ response.data.resultData",l.data.resultData),o=i.dateOfCurrentMouth.concat(l.data.resultData),console.log("\n\n\n\ud83d\ude80 ~ file: index.js ~ line 749 ~ Work ~ fnGetData= ~ mergeData",o),i.setState({data:o})):i.setState({data:i.state.data(l.data.resultData)})),i.setState({loadPanelVisible:!1}),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(0),i.setState({loadPanelVisible:!1}),console.log("TCL: Work -> fnGetData -> error",e.t0);case 29:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),i.state={width:0,height:0,itembar:[!1,!1,!1],filter:{dateFrom:G()().clone().startOf("month").toDate(),dateTo:G()().clone().endOf("month").toDate(),projectId:null,typeId:null},projectList:[],typeList:[],isPopupSuccess:!1,isPopupError:!1,isPopupMsg:"",isOpen:!1,isTypeShowConfirm:"",isDataPopUp:{},isTextMsg:"",isDelete:!1,data:[],popOver:{workId:"",visible:!1},popupEditVisable:!1,updateData:{projectId:null,typeId:null,workDate:null,workDetail:null,workUrl:null,workManhour:null,workTimeIn:null,workTimeOut:null,projectPhase:null,timeIn:null,timeOut:null},loadPanelVisible:!1},i.dataPopup=[{id:1,name:"Edit",icon:"edit"},{id:2,name:"Delete",icon:"trash"}];var r=me.range(i.state.filter.dateFrom,i.state.filter.dateTo);return console.log("\ud83d\ude80 ~ file: index.js ~ line 103 ~ Work ~ constructor ~ range",r),i}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loadPanelVisible:!0}),e.next=4,this.getProjectList();case 4:return e.next=6,this.gettypeList();case 6:return e.next=8,this.fnGetData();case 8:this.fnSetDefaultDate(),this.setState({loadPanelVisible:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("TCL: componentDidMount -> error",e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"fnSetDefaultDate",value:function(){var e=this,t=T.a.cloneDeep(this.dateOfCurrentMouth);setTimeout((function(){var a=e.state.data.map((function(e){return e.workDate}));t=t.filter((function(e){return-1===a.indexOf(e.workDate)}));var s,i=Object(oe.a)(e.state.data);try{for(i.s();!(s=i.n()).done;){var r=s.value;t.push(r)}}catch(n){i.e(n)}finally{i.f()}console.log("TCL: fnSetDefaultDate -> temp",t),e.setState({data:t})}),250)}},{key:"getProjectList",value:function(){var e=Object(N.a)(w.a.mark((function e(){var t=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(N.a)(w.a.mark((function e(a,i){var r,n,c,l,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=[],n={fields:"projectId,projectName,projectPhase"},e.next=5,$.a.get(ve+"/project",{params:n});case 5:if((c=e.sent)&&200===c.status){for(c.data&&"20000"===c.data.resultCode?(c.data.resultData=c.data.resultData.map((function(e){return e.projectName="".concat(e.projectName," ").concat(e.projectPhase),e})),t.setState({projectList:c.data.resultData}),console.log("\ud83d\ude80 ~ file: index.js ~ line 219 ~ Work ~ returnnewPromise ~ response.data.resultData",c.data.resultData),r=c.data.resultData):(t.setState({projectList:c.data.resultData?c.data.resultData:[]}),r=c.data.resultData||[]),l=[],o=0;o<r.length;o++)l.push(Object(s.jsxs)(ge,{children:[" ",r[o].projectName," "]},r[o].projectId));t.projectList=l}a(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("TCL: getProjectList -> error",e.t0),i(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"gettypeList",value:function(){var e=Object(N.a)(w.a.mark((function e(){var t=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(N.a)(w.a.mark((function e(a,i){var r,n,c,l,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=[],n={fields:"typeId,typeName"},e.next=5,$.a.get(ve+"/type",{params:n});case 5:if((c=e.sent)&&200===c.status){for(c.data&&"20000"===c.data.resultCode?(t.setState({typeList:c.data.resultData}),r=c.data.resultData):(t.setState({typeList:c.data.resultData?c.data.resultData:[]}),r=c.data.resultData||[]),l=[],o=0;o<r.length;o++)l.push(Object(s.jsxs)(ge,{children:[" ",r[o].typeName," "]},r[o].typeId));t.typeList=l}a(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("TCL: getProjectList -> error",e.t0),i(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditorPreparing",value:function(e){console.log("TCL: onEditorPreparing -> e ===> ",e),"dataRow"===e.parentType&&"Position"===e.dataField&&(e.editorOptions.readOnly=this.isChief(e.value))}},{key:"onEditorPrepared",value:function(e){console.log("TCL: onEditorPrepared -> e ===> ",e)}},{key:"onInitNewRow",value:function(e){console.log("TCL: onInitNewRow -> e ===> ",e)}},{key:"onContentReady",value:function(e){console.log("TCL: onContentReady -> e ===> ",e)}},{key:"onRowPrepared",value:function(e){if("group"===e.rowType){var t=G()(e.key[0],"YYYY/MM/DD").format("dddd");e.rowElement.style.backgroundColor="Sunday"!==t&&"Saturday"!==t?"rgb(232 211 255)":"#ddd",e.cells&&e.cells[0]&&(e.cells[0].data.collapsedItems&&e.cells[0].data.collapsedItems[0]&&e.cells[0].data.collapsedItems[0].workId||e.cells[0].data.items&&e.cells[0].data.items[0]&&e.cells[0].data.items[0].workId)}}},{key:"checkGreaterTime",value:function(){var e=!0;if((!this.state.updateData.timeIn||""!==this.state.updateData.timeIn)&&(!this.state.updateData.timeOut||""!==this.state.updateData.timeOut)){var t=G()(this.state.updateData.timeIn,"HH:mm A").format("HH:mm"),a=G()(this.state.updateData.timeOut,"HH:mm A").format("HH:mm"),s=this.state.greaterTimeIn,i=this.state.greaterTimeOut;t>a&&(s=!0,i=!0,this.setState({greaterTimeIn:s,greaterTimeOut:i}),e=!1)}return e}},{key:"render",value:function(){var e,t,a,i,r=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"App",id:"App",children:Object(s.jsx)("div",{id:"boxType",className:"container-box-content",children:Object(s.jsxs)("div",{className:"row wrap-container",children:[Object(s.jsxs)(I.a,{children:[Object(s.jsx)(E.a,{}),Object(s.jsx)("span",{className:"breadcrum-custom",children:"  Work "})]}),Object(s.jsx)("div",{className:"wrap-content",children:Object(s.jsxs)("div",{className:"box-search",children:[Object(s.jsx)("div",{className:"box-title-search",children:Object(s.jsx)("p",{className:"font-size-search",children:"Search Work"})}),Object(s.jsx)("div",{className:"box-content",children:Object(s.jsxs)("div",{className:"box-search-border",children:[Object(s.jsxs)("form",{children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",children:Object(s.jsx)("label",{for:"ddlProjectName",className:"title-field",children:"Project Name"})}),Object(s.jsx)("select",{class:"form-control col-7",id:"ddlProjectName",value:this.state.filter.projectId,onChange:this.handleProjectChange,children:this.state.projectList.map((function(e){return Object(s.jsx)("option",{value:e.projectId,selected:e.projectId==r.state.filter.projectId,children:e.projectName})}))})]})}),Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",children:Object(s.jsx)("label",{for:"ddlJobType",className:"title-field",children:"Job Type"})}),Object(s.jsx)("select",{class:"form-control col-7",id:"ddlJobType",value:this.state.filter.typeId,onChange:this.handleTypeChange,children:this.state.typeList.map((function(e){return Object(s.jsx)("option",{value:e.typeId,selected:e.typeId==r.state.filter.typeId,children:e.typeName})}))})]})})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",children:Object(s.jsx)("label",{for:"ddlDateFrom",className:"title-field",children:"Date : From"})}),Object(s.jsx)("div",{className:"col-7",style:{paddingLeft:0,paddingRight:0},children:Object(s.jsx)(C.a,{value:this.state.filter.dateFrom,displayFormat:"yyyy/MM/dd",type:"date",onValueChanged:function(e){r.handleChangeDateFrom(e,"from")}})})]})}),Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",children:Object(s.jsx)("label",{for:"ddlDateTo",className:"title-field",children:"Date : To"})}),Object(s.jsx)("div",{className:"col-7",style:{paddingLeft:0,paddingRight:0},children:Object(s.jsx)(C.a,(e={value:this.state.filter.dateTo,displayFormat:"yyyy/MM/dd",type:"date"},Object(le.a)(e,"type","date"),Object(le.a)(e,"onValueChanged",(function(e){r.handleChangeDateFrom(e,"to")})),e))})]})})]})]}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsxs)("div",{className:"col-12",style:{textAlign:"center"},children:[Object(s.jsx)("button",{class:"btn-custom btn-reset ",style:{marginRight:20},onClick:this.handleReset,children:"RESET"}),Object(s.jsx)("button",{class:"btn-custom btn-search ",onClick:this.onSearch,children:"SEARCH"})]})})]})})]})}),Object(s.jsx)("div",{className:"wrap-content",children:Object(s.jsxs)("div",{className:"box-search",style:{padding:30},children:[Object(s.jsx)("div",{style:{textAlign:"end",padding:15},children:Object(s.jsx)(j.b,{to:'/work/{"action":"create"}',children:Object(s.jsxs)("button",{className:"btn-custom btn-search ",style:{width:185},children:[Object(s.jsx)("span",{className:"btn-icon",children:Object(s.jsx)(u.a,{})})," ",Object(s.jsx)("span",{className:"btn-txt-icon",children:"Create Work"})]})})}),Object(s.jsx)("div",{style:{padding:20},className:"table-responsive",children:Object(s.jsxs)(L.a,{dataSource:this.state.data,allowColumnReordering:!1,showBorders:!0,onEditorPreparing:this.onEditorPreparing,onEditorPrepared:this.onEditorPrepared,onInitNewRow:this.onInitNewRow,onRowPrepared:this.onRowPrepared,onContentReady:this.onContentReady,children:[Object(s.jsx)(_.Editing,{mode:"row",confirmDelete:!1}),Object(s.jsx)(_.Scrolling,{columnRenderingMode:"virtual"}),Object(s.jsx)(_.GroupPanel,{visible:!1}),Object(s.jsx)(_.SearchPanel,{visible:!1}),Object(s.jsx)(_.Grouping,{autoExpandAll:!0,allowCollapsing:!0}),Object(s.jsx)(_.Paging,{defaultPageSize:10}),Object(s.jsx)(_.Pager,{showPageSizeSelector:!0,allowedPageSizes:[100,250,500,1e3],showInfo:!0,showNavigationButtons:!0}),Object(s.jsx)(_.Column,{dataField:"projectName",caption:"Project",dataType:"string",alignment:"center"}),Object(s.jsx)(_.Column,{dataField:"projectPhase",caption:"Phase",dataType:"string",alignment:"center"}),Object(s.jsx)(_.Column,{dataField:"typeName",caption:"Type",dataType:"string",alignment:"center"}),Object(s.jsx)(_.Column,{dataField:"workDetail",caption:"Detail",dataType:"string",alignment:"center"}),Object(s.jsx)(_.Column,{dataField:"workManhour",caption:"Man Hours",dataType:"string",alignment:"center"}),Object(s.jsx)(_.Column,{dataField:"workTimeIn",caption:"Time In",dataType:"string",alignment:"center"}),Object(s.jsx)(_.Column,{dataField:"workTimeOut",caption:"Time Out",dataType:"string",alignment:"center"}),Object(s.jsx)(_.Column,{dataField:"workPlan",caption:"Link Plan",dataType:"string",alignment:"center"}),Object(s.jsx)(_.Column,{dataField:"workRef",caption:"Ref",dataType:"string",alignment:"center"}),Object(s.jsx)(_.Column,{caption:"Edit Delete",alignment:"center",width:110,cellRender:this.actionRender}),Object(s.jsx)(_.Column,{className:"color-red",dataField:"workDate",groupIndex:0,groupCellRender:this.groupRender})]})})]})})]})})}),Object(s.jsx)(Q.LoadPanel,{shadingColor:"rgba(0,0,0,0.4)",position:ye,visible:this.state.loadPanelVisible}),Object(s.jsx)(U,{successStatus:this.state.isPopupSuccess,errorStatus:this.state.isPopupError,message:this.state.isPopupMsg,clearActive:function(){r.setState({isPopupError:!1}),r.setState({isPopupSuccess:!1})}}),Object(s.jsx)(J,{open:this.state.isOpen,type:this.state.isTypeShowConfirm,text:this.state.isTextMsg,data:this.state.isDataPopUp,del:!1,onClose:function(){r.setState({isOpen:!1})},clearActive:function(e){r.setState({isOpen:!1})},confirmActive:function(e){r.state.isDelete?r.onDeleteData(e):r.onUpdateData(e)}}),Object(s.jsx)(R.a,{centered:!0,footer:null,header:null,visible:this.state.popupEditVisable,width:1200,closable:!1,onOk:function(){r.setState({popupEditVisable:!1})},children:this.state.popupEditVisable?Object(s.jsxs)("div",{className:"box-title-search",style:{paddingBottom:0},children:[Object(s.jsx)("p",{className:"font-size-search",children:" Update Work "}),Object(s.jsxs)("div",{className:"box-content",style:{marginBottom:0},children:[Object(s.jsx)("div",{style:{textAlign:"right"},children:Object(s.jsxs)("p",{className:"title-field",children:[Object(s.jsx)("span",{style:{color:"red"},children:" * "})," Items marked with an asterisk are required"]})})," "]}),Object(s.jsxs)("div",{className:"box-action-content",children:[Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsx)("div",{className:"col-12",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-2",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"Date",children:["Date : ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-10",style:{textAlign:"start",padding:0},children:[Object(s.jsx)(C.a,(t={value:null,type:"date"},Object(le.a)(t,"value",this.state.updateData.workDate),Object(le.a)(t,"displayFormat","yyyy/MM/dd"),Object(le.a)(t,"type","date"),Object(le.a)(t,"onValueChanged",(function(e){r.handleChangeDate(e)})),Object(le.a)(t,"className","".concat(this.state.isValid_workDate&&this.state.isSubmit?"has-error-input":"")),t)),this.state.isValid_workDate&&this.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Oe.work.validWorkDate}):null]})]})})}),Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"ddlProjectName",children:["Project Name ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-8",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("div",{className:"form-control div-select ".concat(this.state.isValid_projectName&&this.state.isSubmit?"has-error-input":""),children:Object(s.jsx)(ue.a,{showSearch:!0,style:{width:200},placeholder:"Please selete project",optionFilterProp:"children",onChange:function(e){r.handleChangeProject(e)},filterOption:function(e,t){return t.props.children[1].toLowerCase().indexOf(e.toLowerCase())>=0},value:this.state.updateData.projectName,children:this.projectList})}),this.state.isValid_projectName&&this.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Oe.work.validProjectName}):null]})]})}),Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"ddlJobType",children:["Job Type ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-8",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("div",{className:"form-control div-select ".concat(this.state.isValid_jobType&&this.state.isSubmit?"has-error-input":""),children:Object(s.jsx)(ue.a,{showSearch:!0,style:{width:200},placeholder:"Please selete Type",optionFilterProp:"children",onChange:function(e){r.handleChangeType(e)},filterOption:function(e,t){return t.props.children[1].toLowerCase().indexOf(e.toLowerCase())>=0},value:this.state.updateData.typeName,children:this.typeList})}),this.state.isValid_jobType&&this.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Oe.work.validJobType}):null]})]})})]}),Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"ddlTimeIn",children:["Time in ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-8",style:{textAlign:"start",padding:0},children:[Object(s.jsx)(je.a,(a={showNow:!0,className:"font-12pt",style:{fontSize:"12pt"},use12Hours:!0,placeholder:"Select time in",format:fe,value:this.state.updateData.workTimeIn},Object(le.a)(a,"showNow",!0),Object(le.a)(a,"onChange",(function(e,t){r.onChangeTimeIn(e,t)})),Object(le.a)(a,"className","".concat(this.state.isValid_timeIn||this.state.greaterTimeIn?"has-error-input":"")),a)),this.state.isValid_timeIn&&!this.state.greaterTimeIn?Object(s.jsx)("span",{className:"color-red",children:Oe.work.validTimeIn}):null,this.state.greaterTimeIn&&!this.state.isValid_timeIn?Object(s.jsx)("span",{className:"color-red",children:Oe.work.validTimeInmoreTimeOut}):null]})]})}),Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"ddlTimeOut",children:["Time out ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-8",style:{textAlign:"start",padding:0},children:[Object(s.jsx)(je.a,(i={showNow:!0,className:"font-12pt",style:{fontSize:"12pt"},use12Hours:!0,placeholder:"Select Time out",format:fe,value:this.state.updateData.workTimeOut},Object(le.a)(i,"showNow",!0),Object(le.a)(i,"onChange",(function(e,t){r.onChangeTimeOut(e,t)})),Object(le.a)(i,"className","".concat(this.state.isValid_timeOut||this.state.greaterTimeOut?"has-error-input":"")),i)),this.state.isValid_timeOut&&!this.state.greaterTimeOut?Object(s.jsx)("span",{className:"color-red",children:Oe.work.validTimeOut}):null,this.state.greaterTimeOut&&!this.state.isValid_timeOut?Object(s.jsx)("span",{className:"color-red",children:Oe.work.validTimeOutlessTimeIn}):null]})]})})]}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"txtManHours",children:["Man hours ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-6",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("input",{type:"text",className:"form-control ".concat(this.state.isValid_manHours&&this.state.isSubmit?"has-error-input":""),id:"txtManHours",value:this.state.updateData.workManhour,onChange:function(e){r.onWorkManHoursChange(e)}}),this.state.isValid_manHours&&this.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Oe.work.validManHours}):null]}),Object(s.jsx)("div",{className:"col-2",children:Object(s.jsx)("button",{class:"btn-custom btn-calculate",onClick:this.calManHours,children:"Calculate"})})]})})}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsx)("div",{className:"col-12",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-2",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:" title-field",for:"txtDetail",children:["Detail ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-10",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("textarea",{rows:"3",type:"text",id:"txtDetail",className:"form-control ".concat(this.state.isValid_detail&&this.state.isSubmit?"has-error-input":""),value:this.state.updateData.workDetail,onChange:function(e){r.onWorkDetailChange(e)}}),this.state.isValid_detail&&this.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Oe.work.validWorkDetail}):null]})]})})}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsx)("div",{className:"col-12",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-2",style:{textAlign:"right"},children:Object(s.jsx)("label",{className:"title-field",for:"LinkPlan",children:"Link Plan"})}),Object(s.jsx)("div",{className:"col-10",style:{textAlign:"start",padding:0},children:Object(s.jsx)("input",{type:"text",class:"form-control",id:"txtLinkPlan",value:this.state.updateData.workPlan,onChange:function(e){r.onWorkPlanChange(e)}})})]})})}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsx)("div",{className:"col-12",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-2",style:{textAlign:"right"},children:Object(s.jsx)("label",{className:"title-field",for:"Ref",children:"Ref"})}),Object(s.jsx)("div",{className:"col-10",style:{textAlign:"start",padding:0},children:Object(s.jsx)("input",{type:"text",class:"form-control",id:"txtRef",value:this.state.updateData.workRef,onChange:function(e){r.onWorkRefChange(e)}})})]})})})]}),Object(s.jsx)("div",{className:"row form-group",style:{margin:0},children:Object(s.jsxs)("div",{className:"col-12",style:{textAlign:"right",padding:20},children:[Object(s.jsx)("button",{class:"btn-custom btn-reset",style:{marginRight:20},onClick:function(){r.setState({popupEditVisable:!1})},children:"CANCEL"}),Object(s.jsx)("button",{class:"btn-custom btn-search",style:{marginRight:0},onClick:function(){r.setState({isSubmit:!0}),r.checkValidData()},children:"UPDATE"})]})})]}):null})]})}}]),a}(r.a.Component),we=a(14),Ne=a(640),De=q.a.msgAlert,ke=q.a.msgConfirm,Ce=q.a.validDateFill,Pe="HH:mm A",Te=ue.a.Option,Ie=q.a.appIp+q.a.apiUrlPrefix,Ve=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var s;Object(l.a)(this,a),console.log("TCL: ActionsWork -> constructor -> props",e);var i=T.a.cloneDeep(e.match.params.query),r=JSON.parse(JSON.stringify(i)),n=JSON.parse(r);(s=t.call(this,e)).state={isOpen:!1},s.openModal=function(){return s.setState({isOpen:!0})},s.closeModal=function(){return s.setState({isOpen:!1})},s.handleChangeProject=function(e,t){console.log("\ud83d\ude80 ~ file: create-edit-view.js ~ line 197 ~ ActionsWork ~ index",t),console.log("\ud83d\ude80 ~ file: create-edit-view.js ~ line 197 ~ ActionsWork ~ value",e);var a=Object(we.a)(s.state.data),i=Object(g.a)({},a[t]);i.projectId=e,a[t]=i;var r=Object(we.a)(s.state.isValid_projectName);e&&""===e||(r[t]=!1),s.setState({data:a,isValid_projectName:r})},s.handleBlurProject=function(){console.log("blur ---- ",s.typeList)},s.handleFocusProject=function(){console.log("focus ....",s.typeList)},s.handleChangeType=function(e,t){var a=Object(we.a)(s.state.data),i=Object(g.a)({},a[t]);i.typeId=e,a[t]=i;var r=Object(we.a)(s.state.isValid_jobType);e&&""===e||(r[t]=!1),s.setState({data:a,isValid_jobType:r})},s.handleBlurType=function(){console.log("blur ---- ",s.typeList)},s.handleFocusType=function(){console.log("focus ....",s.typeList)},s.onChangeTimeIn=function(e,t,a){console.log("ActionsWork -> onChangeTimeIn -> time, timestring, index",e,t,a);var i=Object(we.a)(s.state.data),r=Object(g.a)({},i[a]);r.workTimeIn=e,r.timeIn=t,i[a]=r;var n=Object(we.a)(s.state.isValid_timeIn);t&&""===t||(n[a]=!1),s.setState({data:i,isValid_timeIn:n}),s.checkGreaterTime("one",a)},s.onChangeTimeOut=function(e,t,a){var i=Object(we.a)(s.state.data),r=Object(g.a)({},i[a]);r.workTimeOut=e,r.timeOut=t,i[a]=r;var n=Object(we.a)(s.state.isValid_timeOut);t&&""===t||(n[a]=!1),s.setState({data:i,isValid_timeOut:n}),s.checkGreaterTime("one",a)},s.calManHours=function(e){var t=T.a.cloneDeep(s.state.data),a=Object(we.a)(s.state.isValid_timeIn),i=Object(we.a)(s.state.isValid_timeOut);if(!t[e].timeIn||""===t[e].timeIn||!t[e].timeOut||""===t[e].timeOut)return t[e].timeOut&&""!==t[e].timeOut||(i[e]=!0,s.setState({isValid_timeOut:i})),void(t[e].timeIn&&""!==t[e].timeIn||(a[e]=!0,s.setState({isValid_timeIn:a})));if(!1!==s.checkGreaterTime("one",e)){var r=G()(t[e].timeIn,"HH:mm A").format("HH:mm"),n=G()(t[e].timeOut,"HH:mm A").format("HH:mm"),c=s.fnCallDiffTime(r,n),l="",o=c.split(":"),d=r.split(":"),p=n.split(":");if(r<="12:00"&&n>="13:00"){var u=parseInt(o[0])-1;l=(u<=9?"0":"")+u+":"+o[1]}else if(r>"12:00"&&r<"13:00"){if(n<="13:00")l="00:00";else if(n>"13:00")if(parseInt(d[1])<=parseInt(p[1])){var j=parseInt(o[0])-1;l=(j<=9?"0":"")+j+":"+p[1]}else{var h=parseInt(p[1]),m=parseInt(o[0]);l=(m<=9?"0":"")+m+":"+(h<=9?"0":"")+h}}else l=c;var b=Object(we.a)(s.state.isValid_manHours);b[e]=!1,t[e].workManhour=l,s.setState({data:t,isValid_manHours:b})}else console.log("TCL: ActionsWork -> calManHours -> ","time out > time in")},s.fnCallDiffTime=function(e,t){e=e.split(":"),t=t.split(":");var a=new Date(0,0,0,e[0],e[1],0),s=new Date(0,0,0,t[0],t[1],0).getTime()-a.getTime(),i=Math.floor(s/1e3/60/60);s-=1e3*i*60*60;var r=Math.floor(s/1e3/60);return i<0&&(i+=24),(i<=9?"0":"")+i+":"+(r<=9?"0":"")+r},s.handleAddData=function(){console.log("ActionsWork -> handleAddData -> handleAddData"),s.state.data.push({workId:null,projectId:null,typeId:null,workDate:null,workDetail:null,workPlan:null,workRef:null,workManhour:null,workTimeIn:null,workTimeOut:null});var e=s.state.data;s.setState({data:e})},s.handleChangeDate=function(e){for(var t=T.a.cloneDeep(s.state.data),a=0;a<t.length;a++){t[a].workDate=e.value}e.value&&""===e.value||s.setState({isValid_workDate:!1}),s.setState({workDate:e.value,data:t})},s.onWorkManHoursChange=function(e,t){var a=T.a.cloneDeep(s.state.data);a[t].workManhour=e.target.value;var i=Object(we.a)(s.state.isValid_manHours);(e.target.value||""!==e.target.value)&&(i[t]=!1),s.setState({data:a,isValid_manHours:i})},s.onWorkPlanChange=function(e,t){var a=T.a.cloneDeep(s.state.data);a[t].workPlan=e.target.value,s.setState({data:a})},s.onWorkRefChange=function(e,t){var a=T.a.cloneDeep(s.state.data);a[t].workRef=e.target.value,s.setState({data:a})},s.onWorkDetailChange=function(e,t){var a=T.a.cloneDeep(s.state.data);a[t].workDetail=e.target.value;var i=Object(we.a)(s.state.isValid_detail);e.target.value&&""===e.target.value||(i[t]=!1),s.setState({data:a,isValid_detail:i})},s.checkValidData=function(){var e=s.checkValid("project"),t=s.checkValid("job"),a=s.checkValid("in"),i=s.checkValid("out"),r=s.checkValid("hours"),n=s.checkValid("detail"),c=s.checkValid("date"),l=s.checkGreaterTime("all","");e&&t&&a&&i&&r&&n&&c&&l?s.setState({isOpen:!0,isTypeShowConfirm:"save",isTextMsg:ke.saved,isDataPopUp:s.state.data,isDelete:!1}):console.log("TCL: ActionsWork -> checkValidData -> ","\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e44\u0e21\u0e48\u0e04\u0e23\u0e1a")},s.checkValid=function(e){var t=T.a.cloneDeep(s.state.data),a=!0;if("project"===e)for(var i=0;i<t.length;i++){var r=t[i],n=Object(we.a)(s.state.isValid_projectName);console.log("\ud83d\ude80 ~ file: create-edit-view.js ~ line 459 ~ ActionsWork ~ element.projectId",r.projectId),r.projectId&&""!==r.projectId||(a=!1,n[i]=!0,console.log("\ud83d\ude80 ~ file: create-edit-view.js ~ line 461 ~ ActionsWork ~ valid",n),s.setState({isValid_projectName:n}))}else if("job"===e)for(var c=0;c<t.length;c++){var l=t[c],o=Object(we.a)(s.state.isValid_jobType);l.typeId&&""!==l.typeId||(a=!1,o[c]=!0,s.setState({isValid_jobType:o}))}else if("in"===e)for(var d=0;d<t.length;d++){var p=t[d],u=Object(we.a)(s.state.isValid_timeIn);p.workTimeIn&&""!==p.workTimeIn||(a=!1,u[d]=!0,s.setState({isValid_timeIn:u}))}else if("out"===e)for(var j=0;j<t.length;j++){var h=t[j],m=Object(we.a)(s.state.isValid_timeOut);h.workTimeOut&&""!==h.workTimeOut||(a=!1,m[j]=!0,s.setState({isValid_timeOut:m}))}else if("hours"===e)for(var b=0;b<t.length;b++){var x=t[b],O=Object(we.a)(s.state.isValid_manHours);x.workManhour&&""!==x.workManhour||(a=!1,O[b]=!0,s.setState({isValid_manHours:O}))}else if("detail"===e)for(var f=0;f<t.length;f++){var g=t[f],v=Object(we.a)(s.state.isValid_detail);g.workDetail&&""!==g.workDetail||(a=!1,v[f]=!0,s.setState({isValid_detail:v}))}else"date"===e&&(""!==s.state.workDate&&s.state.workDate||(a=!1,s.setState({isValid_workDate:!0})));return a},s.deleteData=function(){var e=Object(N.a)(w.a.mark((function e(t){var a,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.a.delete(Ie+"/work/"+t);case 3:a=e.sent,(i=T.a.cloneDeep(s.state.data)).splice(t[1],1),s.setState({data:i}),a&&200===a.status&&(a.data&&"20000"===a.data.resultCode||(s.setState({isOpen:!1}),s.setState({isPopupError:!1}),s.setState({isPopupSuccess:!0}),s.setState({isPopupMsg:De.deleted}))),e.next=18;break;case 10:e.prev=10,e.t0=e.catch(0),s.setState({loadPanelVisible:!1}),s.setState({isOpen:!1}),s.setState({isPopupError:!0}),s.setState({isPopupSuccess:!1}),s.setState({isPopupMsg:De.systemError}),console.log("TCL: WorkEdit -> fnGetData -> error",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),s.confirmSave=function(){var e=Object(N.a)(w.a.mark((function e(t){var a,i,r,n,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s.setState({loadPanelVisible:!0}),console.log("TCL: ActionJobType -> confirmSave -> data",t),e.prev=2,a=[],i=0;i<t.length;i++)r=t[i],n={workId:r.workId,projectId:r.projectId,typeId:r.typeId,workDate:G()(s.state.workDate).format("YYYY-MM-DD"),workDetail:r.workDetail,workPlan:r.workPlan,workRef:r.workRef,workManhour:r.workManhour,workTimeIn:r.timeIn,workTimeOut:r.timeOut},r.workRef||delete n.workRef,r.workPlan||delete n.workPlan,"create"===s.state.params.action&&delete n.workId,a.push(n);if(console.log("TCL: ActionsWork -> confirmSave -> body",a),"edit"!==s.state.params.action){e.next=12;break}return e.next=9,$.a.put(Ie+"/work/"+s.state.params.workId,a);case 9:c=e.sent,e.next=15;break;case 12:return e.next=14,$.a.post(Ie+"/work",a);case 14:c=e.sent;case 15:c&&200===c.status&&(c.data&&"20000"===c.data.resultCode?(s.setState({isOpen:!1}),s.setState({isPopupError:!1}),s.setState({isPopupSuccess:!0}),s.setState({isPopupMsg:"edit"===s.state.params.action?De.updated:De.saved})):(s.setState({isOpen:!1}),s.setState({isPopupError:!0}),s.setState({isPopupSuccess:!1}),s.setState({isPopupMsg:De.systemError}))),s.setState({loadPanelVisible:!1}),e.next=27;break;case 19:e.prev=19,e.t0=e.catch(2),s.setState({loadPanelVisible:!1}),s.setState({isOpen:!1}),s.setState({isPopupError:!0}),s.setState({isPopupSuccess:!1}),s.setState({isPopupMsg:De.systemError}),console.log("TCL: JobType -> fnGetData -> error",e.t0);case 27:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}(),s.state={isPopupSuccess:!1,isPopupError:!1,isPopupMsg:"",isOpen:!1,isTypeShowConfirm:"",isDataPopUp:{},isTextMsg:"",isDelete:!1,workDate:null,data:[{workId:null,projectId:null,typeId:null,workDate:null,workDetail:null,workPlan:null,workRef:null,workManhour:null,workTimeIn:null,workTimeOut:null,projectPhase:null,timeIn:null,timeOut:null}],projectList:[],typeList:[],params:n,isValid_projectName:[],isValid_jobType:[],isValid_timeIn:[],isValid_timeOut:[],isValid_manHours:[],isValid_detail:[],isValid_workDate:!1,greaterTimeIn:[],greaterTimeOut:[],isSubmit:!1,loadPanelVisible:!1};var c=T.a.cloneDeep(s.state.data);return c[0].workDate="create"===s.state.params.action&&s.state.params.workDate?s.state.params.workDate:null,console.log("TCL: ActionsWork -> constructor -> tempDateFirstRow",c),s.setState({data:c}),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loadPanelVisible:!0}),e.next=4,this.getProjectList();case 4:return e.next=6,this.gettypeList();case 6:if(!this.state.params||!this.state.params.workDate){e.next=14;break}if(t=T.a.cloneDeep(this.state.params.workDate),console.log("TCL: ActionsWork -> componentDidMount -> workDate",t),a=t.replace(/%2F/g,"/"),"create"===this.state.params.action&&this.setState({workDate:G()(a,"YYYY/MM/DD").toDate()}),"edit"!==this.state.params.action){e.next=14;break}return e.next=14,this.getDataView();case 14:this.setState({loadPanelVisible:!1}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log("TCL: componentDidMount -> error",e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"getProjectList",value:function(){var e=Object(N.a)(w.a.mark((function e(){var t=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(N.a)(w.a.mark((function e(a,i){var r,n,c,l,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=[],n={fields:"projectId,projectName,projectPhase"},e.next=5,$.a.get(Ie+"/project",{params:n});case 5:if((c=e.sent)&&200===c.status){for(c.data&&"20000"===c.data.resultCode?(c.data.resultData=c.data.resultData.map((function(e){return e.projectName="".concat(e.projectName," ").concat(e.projectPhase),e})),t.setState({projectList:c.data.resultData}),r=c.data.resultData):(t.setState({projectList:c.data.resultData?c.data.resultData:[]}),r=c.data.resultData||[]),l=[],o=0;o<r.length;o++)console.log("\ud83d\ude80 ~ file: create-edit-view.js ~ line 146 ~ ActionsWork ~ returnnewPromise ~ resData[i].projectId",r[o].projectId),l.push(Object(s.jsxs)(Te,{value:r[o].projectId,children:[" ",r[o].projectName," "]},r[o].projectId));t.projectList=l}a(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("TCL: getProjectList -> error",e.t0),i(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"gettypeList",value:function(){var e=Object(N.a)(w.a.mark((function e(){var t=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(N.a)(w.a.mark((function e(a,i){var r,n,c,l,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=[],n={fields:"typeId,typeName"},e.next=5,$.a.get(Ie+"/type",{params:n});case 5:if((c=e.sent)&&200===c.status){for(c.data&&"20000"===c.data.resultCode?(t.setState({typeList:c.data.resultData}),r=c.data.resultData):(t.setState({typeList:c.data.resultData?c.data.resultData:[]}),r=c.data.resultData||[]),l=[],o=0;o<r.length;o++)l.push(Object(s.jsxs)(Te,{value:r[o].typeId,children:[" ",r[o].typeName," "]},r[o].typeId));t.typeList=l}a(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("TCL: getProjectList -> error",e.t0),i(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"checkGreaterTime",value:function(e,t){if("one"!==e){for(var a=T.a.cloneDeep(this.state.data),s=!0,i=0;i<a.length;i++){var r=a[i],n=(l=G()(r.timeIn,"HH:mm A").format("HH:mm"),o=G()(r.timeOut,"HH:mm A").format("HH:mm"),Object(we.a)(this.state.greaterTimeIn)),c=Object(we.a)(this.state.greaterTimeOut);l>o&&(n[i]=!0,c[i]=!0,this.setState({greaterTimeIn:n,greaterTimeOut:c}),s=!1)}return s}if((this.state.data[t].timeIn||""!==this.state.data[t].timeIn)&&(this.state.data[t].timeOut||""!==this.state.data[t].timeOut)){var l=G()(this.state.data[t].timeIn,"HH:mm A").format("HH:mm"),o=G()(this.state.data[t].timeOut,"HH:mm A").format("HH:mm"),d=Object(we.a)(this.state.greaterTimeIn),p=Object(we.a)(this.state.greaterTimeOut);return console.log(l),console.log(o),l>o?(d[t]=!0,p[t]=!0,this.setState({greaterTimeIn:d,greaterTimeOut:p}),!1):(d[t]=!1,p[t]=!1,this.setState({greaterTimeIn:d,greaterTimeOut:p}),!0)}}},{key:"getDataView",value:function(){var e=Object(N.a)(w.a.mark((function e(){var t=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(N.a)(w.a.mark((function e(a,s){var i,r,n,c,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,[],i={filter:{workDate:G()(t.state.params.workDate.replace(/%2F/g,"/"),"YYYY/MM/DD").format("YYYY-MM-DD")}},e.next=5,$.a.get(Ie+"/work",{params:i});case 5:if((r=e.sent)&&200===r.status&&r.data&&"20000"===r.data.resultCode){for(n=T.a.cloneDeep(r.data.resultData),console.log("TCL: ActionsWork -> getDataView -> temp",n),c=0;c<n.length;c++)l=n[c],n[c].timeIn=l.workTimeIn,n[c].timeOut=l.workTimeOut,n[c].workTimeIn=G()(l.workTimeIn,"HH:mm A").local(),n[c].workTimeOut=G()(l.workTimeOut,"HH:mm A").local();console.log("TCL: ActionsWork -> getDataView -> temp",n),t.setState({data:n,workDate:G()(n[0].workDate,"YYYY/MM/DD").toDate()})}a(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("TCL: getProjectList -> error",e.t0),s(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"App",children:Object(s.jsx)("div",{id:"boxType",className:"container-box-content",children:Object(s.jsxs)("div",{className:"row wrap-container",children:[Object(s.jsxs)(I.a,{children:[Object(s.jsxs)(I.a.Item,{href:"/work",children:[Object(s.jsx)(E.a,{}),Object(s.jsx)("span",{className:"breadcrum-custom",children:" work "})]}),"create"===this.state.params.action?Object(s.jsx)("span",{className:"breadcrum-custom",children:" Create work "}):null,"edit"===this.state.params.action?Object(s.jsx)("span",{className:"breadcrum-custom",children:" Update work "}):null]}),Object(s.jsx)("div",{className:"wrap-content",children:Object(s.jsxs)("div",{className:"box-action",children:[Object(s.jsxs)("div",{className:"box-title-search",children:["create"===this.state.params.action?Object(s.jsx)("p",{className:"font-size-search",children:" Create Work "}):null,"edit"===this.state.params.action?Object(s.jsx)("p",{className:"font-size-search",children:" Update Work "}):null]}),Object(s.jsxs)("div",{className:"box-content",style:{marginBottom:0},children:[Object(s.jsx)("div",{className:"box-action-date",children:Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-3",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"ddlDate",children:["Date : ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-4",style:{textAlign:"start",padding:0},children:[Object(s.jsx)(C.a,(e={value:null,type:"date"},Object(le.a)(e,"value",this.state.workDate),Object(le.a)(e,"displayFormat","yyyy/MM/dd"),Object(le.a)(e,"type","date"),Object(le.a)(e,"onValueChanged",(function(e){t.handleChangeDate(e)})),Object(le.a)(e,"className","".concat(this.state.isValid_workDate&&this.state.isSubmit?"has-error-input":"")),e)),this.state.isValid_workDate&&this.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Ce.work.validWorkDate}):null]})]})}),Object(s.jsx)("hr",{className:"hr-action"}),Object(s.jsx)("div",{style:{textAlign:"right"},children:Object(s.jsxs)("p",{className:"title-field",children:[Object(s.jsx)("span",{style:{color:"red"},children:" * "})," Items marked with an asterisk are required"]})}),this.state.data.map((function(e,a){var i,r;return console.log("data.projectId --\x3e ",e.projectId),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"box-action-content",children:[Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"ddlProjectName",children:["Project Name  ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-8",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("div",{className:"form-control div-select ".concat(t.state.isValid_projectName[a]&&t.state.isSubmit?"has-error-input":""),children:Object(s.jsx)(ue.a,{showSearch:!0,style:{width:200},placeholder:"Please selete project",optionFilterProp:"children",onChange:function(e){console.log("TCL: ActionsWork -> render -> ",t.projectList),t.handleChangeProject(e,a)},filterOption:function(e,t){return t.props.children[1].toLowerCase().indexOf(e.toLowerCase())>=0},value:e.projectId,children:t.projectList})}),t.state.isValid_projectName[a]&&t.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Ce.work.validProjectName}):null]})]})}),Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"ddlJobType",children:["Job Type ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-8",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("div",{className:"form-control div-select ".concat(t.state.isValid_jobType[a]&&t.state.isSubmit?"has-error-input":""),children:Object(s.jsx)(ue.a,{showSearch:!0,style:{width:200},placeholder:"Please selete Type",optionFilterProp:"children",onChange:function(e){t.handleChangeType(e,a)},onFocus:function(e){t.handleFocusType(e,a)},onBlur:function(e){t.handleBlurType(e,a)},filterOption:function(e,t){return t.props.children[1].toLowerCase().indexOf(e.toLowerCase())>=0},value:e.typeId,children:t.typeList})}),t.state.isValid_jobType[a]&&t.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Ce.work.validJobType}):null]})]})})]}),Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"ddlTimeIn",children:["Time in ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-8",style:{textAlign:"start",padding:0},children:[Object(s.jsx)(je.a,(i={showNow:!0,className:"font-12pt",style:{fontSize:"12pt"},use12Hours:!0,placeholder:"Select time in",format:Pe,value:e.workTimeIn},Object(le.a)(i,"showNow",!0),Object(le.a)(i,"onChange",(function(e,s){t.onChangeTimeIn(e,s,a)})),Object(le.a)(i,"className","".concat(t.state.isValid_timeIn[a]||t.state.greaterTimeIn[a]?"has-error-input":"")),i)),t.state.isValid_timeIn[a]&&!t.state.greaterTimeIn[a]?Object(s.jsx)("span",{className:"color-red",children:Ce.work.validTimeIn}):null,t.state.greaterTimeIn[a]&&!t.state.isValid_timeIn[a]?Object(s.jsx)("span",{className:"color-red",children:Ce.work.validTimeInmoreTimeOut}):null]})]})}),Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"ddlTimeOut",children:["Time out ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-8",style:{textAlign:"start",padding:0},children:[Object(s.jsx)(je.a,(r={showNow:!0,className:"font-12pt",style:{fontSize:"12pt"},use12Hours:!0,placeholder:"Select Time out",format:Pe,value:e.workTimeOut},Object(le.a)(r,"showNow",!0),Object(le.a)(r,"onChange",(function(e,s){t.onChangeTimeOut(e,s,a)})),Object(le.a)(r,"className","".concat(t.state.isValid_timeOut[a]||t.state.greaterTimeOut[a]?"has-error-input":"")),r)),t.state.isValid_timeOut[a]&&!t.state.greaterTimeOut[a]?Object(s.jsx)("span",{className:"color-red",children:Ce.work.validTimeOut}):null,t.state.greaterTimeOut[a]&&!t.state.isValid_timeOut[a]?Object(s.jsx)("span",{className:"color-red",children:Ce.work.validTimeOutlessTimeIn}):null]})]})})]}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsx)("div",{className:"col-6",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"txtManHours",children:["Man hours ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-4",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("input",{type:"text",className:"form-control ".concat(t.state.isValid_manHours[a]&&t.state.isSubmit?"has-error-input":""),id:"txtManHours",value:e.workManhour,onChange:function(e){t.onWorkManHoursChange(e,a)}}),t.state.isValid_manHours[a]&&t.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Ce.work.validManHours}):null]}),Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)("button",{class:"btn-custom btn-calculate",onClick:function(){t.calManHours(a)},children:"Calculate"})})]})})}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsx)("div",{className:"col-12",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-2",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"txtDetail",children:["Detail ",Object(s.jsx)("span",{style:{color:"red"},children:" * "})]})}),Object(s.jsxs)("div",{className:"col-10",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("textarea",{rows:"3",type:"text",id:"txtDetail",className:"form-control ".concat(t.state.isValid_detail[a]&&t.state.isSubmit?"has-error-input":""),value:e.workDetail,onChange:function(e){t.onWorkDetailChange(e,a)}}),t.state.isValid_detail[a]&&t.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Ce.work.validWorkDetail}):null]})]})})}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsx)("div",{className:"col-12",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-2",style:{textAlign:"right"},children:Object(s.jsx)("label",{className:"title-field",for:"txtLinkPlan",children:"Link Plan"})}),Object(s.jsx)("div",{className:"col-10",style:{textAlign:"start",padding:0},children:Object(s.jsx)("input",{type:"text",class:"form-control",id:"txtPlan",value:e.workPlan,onChange:function(e){t.onWorkPlanChange(e,a)}})})]})})}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsx)("div",{className:"col-12",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-2",style:{textAlign:"right"},children:Object(s.jsx)("label",{className:"title-field",for:"txtRef",children:"Ref"})}),Object(s.jsx)("div",{className:"col-10",style:{textAlign:"start",padding:0},children:Object(s.jsx)("input",{type:"text",class:"form-control",id:"txtRef",value:e.workRef,onChange:function(e){t.onWorkRefChange(e,a)}})})]})})})]}),t.state.data.length>1?Object(s.jsx)("div",{style:{textAlign:"end",marginTop:20,marginBottom:10},children:Object(s.jsx)("button",{type:"button",style:{background:"red",color:"#fff",width:300},className:"btn btn-popup-custom error",onClick:function(){t.setState({isOpen:!0,isTypeShowConfirm:"del",isTextMsg:ke.deleted,isDataPopUp:[e,a],isDelete:!0})},children:"Delete"})}):null,Object(s.jsx)("hr",{className:"hr-action"})]})})),Object(s.jsx)("br",{}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"button",class:"btn btn-add-work",onClick:this.handleAddData,children:Object(s.jsx)("span",{className:"btn-add-work-icon",children:Object(s.jsx)(Ne.a,{})})})})]}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsxs)("div",{className:"col-12",style:{textAlign:"right"},children:[Object(s.jsx)(j.b,{to:"/work",children:Object(s.jsx)("button",{class:"btn-custom btn-reset",style:{marginRight:20},children:"CANCEL"})}),Object(s.jsx)("button",{class:"btn-custom btn-search",style:{marginRight:70},onClick:function(){t.setState({isSubmit:!0}),t.checkValidData()},children:"edit"===this.state.params.action?"UPDATE":"CREATE"})]})})]})})]})})}),Object(s.jsx)(U,{successStatus:this.state.isPopupSuccess,errorStatus:this.state.isPopupError,message:this.state.isPopupMsg,clearActive:function(){!0===t.state.isPopupSuccess&&!1===t.state.isDelete&&t.props.history.push("/work"),t.setState({isPopupError:!1}),t.setState({isPopupSuccess:!1})}}),Object(s.jsx)(J,{open:this.state.isOpen,type:this.state.isTypeShowConfirm,text:this.state.isTextMsg,data:this.state.isDataPopUp,del:!1,onClose:function(){t.setState({isOpen:!1})},clearActive:function(e){t.setState({isOpen:!1})},confirmActive:function(e){console.log("Work -> render -> e",e),t.state.isDelete?t.deleteData(e):t.confirmSave(e)}})]})}}]),a}(r.a.Component),Ae=a(264),Me=a(263),Ee=q.a.appIp+q.a.apiUrlPrefix,_e=q.a.msgAlert,Le=q.a.msgConfirm,Re=q.a.validDateFill,He={of:"#App"},ze=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var s;Object(l.a)(this,a),console.log("Actionsjobtype -> constructor -> props",e);var i=T.a.cloneDeep(e.match.params.query),r=JSON.parse(JSON.stringify(i)),n=JSON.parse(r);return console.log("ActionJobType -> constructor -> param",n),(s=t.call(this,e)).state={isOpen:!1},s.openModal=function(){return s.setState({isOpen:!0})},s.closeModal=function(){return s.setState({isOpen:!1})},s.checkValidate=function(){console.log(s.state.data.typeName),console.log(s.state.data.typeCode),s.state.data.typeName&&s.state.data.typeCode?s.setState({isOpen:!0,isTypeShowConfirm:"save",isTextMsg:Le.saved,isDataPopUp:s.state.data,valid_typeName:!1,valid_typeCode:!1}):(s.state.data.typeName||s.setState({valid_typeName:!0}),s.state.data.typeCode||s.setState({valid_typeCode:!0}))},s.confirmSave=function(){var e=Object(N.a)(w.a.mark((function e(t){var a,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.setState({loadPanelVisible:!0}),console.log("TCL: ActionJobType -> confirmSave -> data",t),e.prev=2,(a={}).typeName=t.typeName,a.typeCode=t.typeCode,"edit"!==s.state.params.action){e.next=12;break}return e.next=9,$.a.put(Ee+"/type/"+s.state.data.typeId,a);case 9:i=e.sent,e.next=15;break;case 12:return e.next=14,$.a.post(Ee+"/type",a);case 14:i=e.sent;case 15:i&&200===i.status&&(i.data&&"20000"===i.data.resultCode?(s.setState({isOpen:!1}),s.setState({isPopupError:!1}),s.setState({isPopupSuccess:!0}),s.setState({isPopupMsg:"edit"===s.state.params.action?_e.updated:_e.saved})):(s.setState({isOpen:!1}),s.setState({isPopupError:!0}),s.setState({isPopupSuccess:!1}),s.setState({isPopupMsg:_e.systemError}))),s.setState({loadPanelVisible:!1}),e.next=27;break;case 19:e.prev=19,e.t0=e.catch(2),s.setState({loadPanelVisible:!1}),s.setState({isOpen:!1}),s.setState({isPopupError:!0}),s.setState({isPopupSuccess:!1}),s.setState({isPopupMsg:_e.systemError}),console.log("TCL: JobType -> fnGetData -> error",e.t0);case 27:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}(),s.fnGetDataView=Object(N.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s.setState({loadPanelVisible:!0}),{typeId:s.state.params.jobTypeId},e.next=5,$.a.get(Ee+"/type/"+s.state.params.jobTypeId);case 5:t=e.sent,console.log("TCL: ActionJobType -> fnGetDataView -> response",t),t&&200===t.status&&(t.data&&"20000"===t.data.resultCode?s.setState({data:{typeName:t.data.resultData[0].typeName,typeCode:t.data.resultData[0].typeCode,typeId:t.data.resultData[0].typeId}}):s.setState({data:{typeName:null,typeCode:null,typeId:null}})),s.setState({loadPanelVisible:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),s.setState({loadPanelVisible:!1}),console.log("TCL: ActionJobType -> fnGetDataView -> error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),s.state={isPopupSuccess:!1,isPopupError:!1,isPopupMsg:"",isOpen:!1,isTypeShowConfirm:"",isDataPopUp:{},isTextMsg:"",data:{typeName:null,typeCode:null,typeId:null},projectList:[],typeList:[],params:n,isSubmit:!1,valid_typeName:!1,valid_typeCode:!1,loadPanelVisible:!1},s.onTypeNameChange=s.onTypeNameChange.bind(Object(D.a)(s)),s.onTypeCodeChange=s.onTypeCodeChange.bind(Object(D.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"edit"===this.state.params.action&&this.fnGetDataView();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onTypeNameChange",value:function(e){this.setState({data:Object(g.a)(Object(g.a)({},this.state.data),{},{typeName:e.target.value})}),""===e.target.value&&e.target.value||this.setState({valid_typeName:!1})}},{key:"onTypeCodeChange",value:function(e){this.setState({data:Object(g.a)(Object(g.a)({},this.state.data),{},{typeCode:e.target.value})}),console.log("TCL: ActionJobType -> onTypeCodeChange -> event.target.value",e.target.value),""===e.target.value&&e.target.value||this.setState({valid_typeCode:!1})}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"App",children:Object(s.jsx)("div",{id:"boxType",className:"container-box-content",children:Object(s.jsxs)("div",{className:"row wrap-container",children:[Object(s.jsxs)(I.a,{children:[Object(s.jsxs)(I.a.Item,{href:"/jobtype",children:[Object(s.jsx)(E.a,{}),Object(s.jsx)("span",{className:"breadcrum-custom",children:"job type"})]}),"create"===this.state.params.action?Object(s.jsx)("span",{className:"breadcrum-custom",children:"  Create Job type"}):null,"edit"===this.state.params.action?Object(s.jsx)("span",{className:"breadcrum-custom",children:"  Update Job type"}):null]}),Object(s.jsx)("div",{className:"wrap-content",children:Object(s.jsxs)("div",{className:"box-action",children:[Object(s.jsx)("div",{className:"box-title-search",children:Object(s.jsxs)("div",{className:"box-action-content",children:["create"===this.state.params.action?Object(s.jsx)("p",{className:"font-size-search",children:"Create Job type"}):null,"edit"===this.state.params.action?Object(s.jsx)("p",{className:"font-size-search",children:"Update Job type"}):null,Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-5",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"txtJobTypeName",children:["Job Type",Object(s.jsx)("span",{style:{color:"red"},children:"*"})]})}),Object(s.jsxs)("div",{className:"col-3",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("input",{type:"text",class:"form-control ".concat(this.state.valid_typeName&&this.state.isSubmit?"has-error-input":""),id:"txtJobTypeName",value:this.state.data.typeName,onChange:this.onTypeNameChange}),this.state.valid_typeName&&this.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Re.req}):null]})]}),Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-5",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"txtCode",children:["Code ",Object(s.jsx)("span",{style:{color:"red"},children:"*"})]})}),Object(s.jsxs)("div",{className:"col-3",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("input",{type:"text",class:"form-control  ".concat(this.state.valid_typeCode&&this.state.isSubmit?"has-error-input":""),id:"txtCode",value:this.state.data.typeCode,onChange:this.onTypeCodeChange}),this.state.valid_typeCode&&this.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Re.req}):null]})]}),Object(s.jsx)("div",{style:{textAlign:"right"},children:Object(s.jsxs)("p",{className:"title-field",children:[Object(s.jsx)("span",{style:{color:"red"},children:"*"})," Items marked with an asterisk are required"]})})]})}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsxs)("div",{className:"col-12",style:{textAlign:"right"},children:["view"!==this.state.params.action?Object(s.jsx)(j.b,{to:"/jobtype",children:Object(s.jsx)("button",{class:"btn-custom btn-reset",style:{marginRight:20},onClick:this.handleReset,children:"CANCEL"})}):null,"view"!==this.state.params.action?Object(s.jsx)("button",{class:"btn-custom btn-search",style:{marginRight:20},onClick:function(){e.setState({isSubmit:!0}),e.checkValidate()},children:"edit"===this.state.params.action?"UPDATE":"CREATE"}):null]})})]})})]})})}),Object(s.jsx)(Q.LoadPanel,{shadingColor:"rgba(0,0,0,0.4)",position:He,visible:this.state.loadPanelVisible}),Object(s.jsx)(U,{successStatus:this.state.isPopupSuccess,errorStatus:this.state.isPopupError,message:this.state.isPopupMsg,clearActive:function(){e.state.isPopupSuccess&&e.props.history.push("/jobtype"),e.setState({isPopupError:!1}),e.setState({isPopupSuccess:!1})}}),Object(s.jsx)(J,{open:this.state.isOpen,type:this.state.isTypeShowConfirm,text:this.state.isTextMsg,data:this.state.isDataPopUp,del:!1,onClose:function(){e.setState({isOpen:!1})},clearActive:function(t){e.setState({isOpen:!1})},confirmActive:function(t){console.log("Work -> render -> e",t),e.confirmSave(t)}})]})}}]),a}(r.a.Component),Ge=q.a.appIp+q.a.apiUrlPrefix,We=q.a.msgAlert,Fe=q.a.msgConfirm,Ye=q.a.validDateFill,Ue=(ue.a.Option,{of:"#App"}),Je=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var s;Object(l.a)(this,a),console.log("Actionsproject -> constructor -> props",e);var i=T.a.cloneDeep(e.match.params.query),r=JSON.parse(JSON.stringify(i)),n=JSON.parse(r);return(s=t.call(this,e)).state={isOpen:!1},s.openModal=function(){return s.setState({isOpen:!0})},s.closeModal=function(){return s.setState({isOpen:!1})},s.handleChangeDate=function(e,t){T.a.cloneDeep(s.state.data);"start"===t?(s.setState({data:Object(g.a)(Object(g.a)({},s.state.data),{},{projectStartDate:e.value})}),s.setState({isValid_startDate:!1})):(s.setState({data:Object(g.a)(Object(g.a)({},s.state.data),{},{projectEndDate:e.value})}),s.setState({isValid_endDate:!1})),s.checkGreaterValue(),s.checkGreaterStartDateValue(),s.checkGreaterStopDateValue()},s.onProjectNameChange=function(e){s.setState({data:Object(g.a)(Object(g.a)({},s.state.data),{},{projectName:e.target.value})}),""===e.target.value&&e.target.value||s.setState({isValid_projectName:!1})},s.onProjectPhaseChange=function(e){s.setState({data:Object(g.a)(Object(g.a)({},s.state.data),{},{projectPhase:e.target.value})}),""===e.target.value&&e.target.value||s.setState({isValid_phase:!1})},s.onProjectDetailChange=function(e){s.setState({data:Object(g.a)(Object(g.a)({},s.state.data),{},{projectDetail:e.target.value})}),""===e.target.value&&e.target.value||s.setState({isValid_detail:!1})},s.onCustomerEmailChange=function(e){s.setState({data:Object(g.a)(Object(g.a)({},s.state.data),{},{customerEmail:e.target.value})}),setTimeout((function(){s.state.data.customerEmail&&!s.checkValidEmail()?s.setState({isValid_email:!0}):s.setState({isValid_email:!1})}),100)},s.onManDaysChange=function(e){s.setState({data:Object(g.a)(Object(g.a)({},s.state.data),{},{projectManDays:e.target.value})})},s.checkValidate=function(){var e=s.checkValidValue("name"),t=s.checkValidValue("phase"),a=s.checkValidValue("detail"),i=s.checkValidValue("start"),r=s.checkValidValue("end"),n=!s.state.data.customerEmail||s.checkValidEmail();i&&r&&s.checkValidValue("date"),e&&t&&a&&i&&r&&!s.state.greater.startDate&&!s.state.greater.endDate&&!s.state.startGreater&&!s.state.endGreater&&n?s.setState({isOpen:!0,isTypeShowConfirm:"save",isTextMsg:(s.state.params.action,Fe.saved),isDataPopUp:s.state.data}):console.log("TCL: ActionsProject -> checkValidate -> ","\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e44\u0e21\u0e48\u0e04\u0e23\u0e1a\u0e2b\u0e23\u0e37\u0e2d \u0e15\u0e34\u0e14 valid")},s.checkValidValue=function(e){return"name"===e?s.state.data.projectName&&""!==s.state.data.projectName?(s.setState({isValid_projectName:!1}),!0):(s.setState({isValid_projectName:!0}),!1):"phase"===e?s.state.data.projectPhase&&""!==s.state.data.projectPhase?(s.setState({isValid_phase:!1}),!0):(s.setState({isValid_phase:!0}),!1):"detail"===e?s.state.data.projectDetail&&""!==s.state.data.projectDetail?(s.setState({isValid_detail:!1}),!0):(s.setState({isValid_detail:!0}),!1):"start"===e?s.state.data.projectStartDate&&""!==s.state.data.projectStartDate?(s.setState({isValid_startDate:!1}),!0):(s.setState({isValid_startDate:!0}),!1):"end"===e?s.state.data.projectEndDate&&""!==s.state.data.projectEndDate?(s.setState({isValid_endDate:!1}),!0):(s.setState({isValid_endDate:!0}),!1):void("date"===e&&s.checkGreaterValue())},s.checkGreaterValue=function(){s.state.data.projectEndDate&&s.state.data.projectStartDate&&!s.checkNullObjectMany(s.state.inputDate)||s.setState({greater:{startDate:!1,endDate:!1}});var e=s.checkGreater(s.state.data.projectEndDate,s.state.data.projectStartDate);console.log("TCL: ActionsProject -> checkGreaterValue -> checkGreaterCreatedDate",e),s.setState({greater:{startDate:e,endDate:e}})},s.checkNullObjectMany=function(e){for(var t in e)for(var a in e[t])if(e[t][a])return!0;return!1},s.checkGreaterStartDateValue=function(){s.state.data.projectStartDate&&s.state.data.projectEndDate&&!s.checkNullObjectMany(s.inputDate)||s.setState({startGreater:!1});var e=s.checkGreaterStartDate(s.state.data.projectEndDate,s.state.data.projectStartDate);s.setState({startGreater:e})},s.checkGreaterStopDateValue=function(){s.state.data.projectStartDate&&s.state.data.projectEndDate&&!s.checkNullObjectMany(s.inputDate)||s.setState({endGreater:!1});var e=s.checkGreaterStopDate(s.state.data.projectEndDate,s.state.data.projectStartDate);s.setState({endGreater:e})},s.checkGreaterStartDate=function(){return!1,false},s.checkGreaterStopDate=function(e,t){var a,s=G()().format();t&&e?a=G()(e).format()<s:a=!1;return a},s.checkValidEmail=function(){var e=s.state.data.customerEmail?s.state.data.customerEmail.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g):null;return console.log("TCL: ActionsProject -> checkValidEmail -> match",e),!!(e&&e.length>0)},s.confirmSave=function(){var e=Object(N.a)(w.a.mark((function e(t){var a,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.setState({loadPanelVisible:!0}),console.log("TCL: ActionJobType -> confirmSave -> data",t),e.prev=2,(a={}).projectName=t.projectName,a.projectPhase=t.projectPhase,a.projectDetail=t.projectDetail,a.projectStartDate=G()(t.projectStartDate).format("YYYY-MM-DD HH:mm:ss"),a.projectEndDate=G()(t.projectEndDate).format("YYYY-MM-DD HH:mm:ss"),t.projectManDays&&(a.projectManDays=t.projectManDays),t.customerEmail&&(a.customerEmail=t.customerEmail),console.log("TCL: ActionsProject -> confirmSave -> body",a),"edit"!==s.state.params.action){e.next=18;break}return e.next=15,$.a.put(Ge+"/project/"+s.state.data.projectId,a);case 15:i=e.sent,e.next=21;break;case 18:return e.next=20,$.a.post(Ge+"/project",a);case 20:i=e.sent;case 21:i&&200===i.status&&(i.data&&"20000"===i.data.resultCode?(s.setState({isOpen:!1}),s.setState({isPopupError:!1}),s.setState({isPopupSuccess:!0}),s.setState({isPopupMsg:"edit"===s.state.params.action?We.updated:We.saved})):(s.setState({isOpen:!1}),s.setState({isPopupError:!0}),s.setState({isPopupSuccess:!1}),s.setState({isPopupMsg:We.systemError}))),s.setState({loadPanelVisible:!1}),e.next=33;break;case 25:e.prev=25,e.t0=e.catch(2),s.setState({loadPanelVisible:!1}),s.setState({isOpen:!1}),s.setState({isPopupError:!0}),s.setState({isPopupSuccess:!1}),s.setState({isPopupMsg:We.systemError}),console.log("TCL: JobType -> fnGetData -> error",e.t0);case 33:case"end":return e.stop()}}),e,null,[[2,25]])})));return function(t){return e.apply(this,arguments)}}(),s.fnGetDataView=Object(N.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s.setState({loadPanelVisible:!0}),{projectId:s.state.params.projectId},e.next=5,$.a.get(Ge+"/project/"+s.state.params.projectId);case 5:t=e.sent,console.log("TCL: ActionJobType -> fnGetDataView -> response",t),t&&200===t.status&&(t.data&&"20000"===t.data.resultCode?s.setState({data:{projectId:t.data.resultData[0].projectId,projectName:t.data.resultData[0].projectName,projectPhase:t.data.resultData[0].projectPhase,projectDetail:t.data.resultData[0].projectDetail,projectStartDate:G()(t.data.resultData[0].projectStartDate,"YYYY/MM/DD HH:mm:ss").toDate(),projectEndDate:G()(t.data.resultData[0].projectEndDate,"YYYY/MM/DD HH:mm:ss").toDate(),projectManDays:t.data.resultData[0].projectManDays,customerEmail:t.data.resultData[0].customerEmail,createDate:t.data.resultData[0].createDate,createBy:t.data.resultData[0].createBy,updateDate:t.data.resultData[0].updateDate,updateBy:t.data.resultData[0].updateBy}}):s.setState({data:{projectId:null,projectName:null,projectPhase:null,projectDetail:null,projectStartDate:null,projectEndDate:null,projectManDays:null,customerEmail:null,createDate:null,createBy:null,updateDate:null,updateBy:null}})),s.setState({loadPanelVisible:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),s.setState({loadPanelVisible:!1}),console.log("TCL: ActionJobType -> fnGetDataView -> error",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),s.state={isPopupSuccess:!1,isPopupError:!1,isPopupMsg:"",isOpen:!1,isTypeShowConfirm:"",isDataPopUp:{},isTextMsg:"",data:{projectId:null,projectName:null,projectPhase:null,projectDetail:null,projectStartDate:null,projectEndDate:null,projectManDays:null,customerEmail:null,createDate:null,createBy:null,updateDate:null,updateBy:null},params:n,isSubmit:!1,isValid_startDate:!1,isValid_endDate:!1,isValid_projectName:!1,isValid_phase:!1,isValid_detail:!1,isValid_email:!1,inputDate:{startDate:"",endDate:""},greater:{startDate:"",endDate:""},startGreater:!1,endGreater:!1,loadPanelVisible:!1},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){console.log("TCL: ActionsProject -> componentDidMount -> this.state.params",this.state.params),"create"!==this.state.params.action&&this.fnGetDataView()}},{key:"checkGreater",value:function(e,t){return!(!e||!t)&&e<t}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"App",id:"App",children:Object(s.jsx)("div",{id:"boxType",className:"container-box-content",children:Object(s.jsxs)("div",{className:"row wrap-container",children:[Object(s.jsxs)(I.a,{children:[Object(s.jsxs)(I.a.Item,{href:"/project",children:[Object(s.jsx)(E.a,{}),Object(s.jsx)("span",{className:"breadcrum-custom",children:"project"})]}),"create"===this.state.params.action?Object(s.jsx)("span",{className:"breadcrum-custom",children:"Create project"}):null,"edit"===this.state.params.action?Object(s.jsx)("span",{className:"breadcrum-custom",children:"  Update project"}):null,"view"===this.state.params.action?Object(s.jsx)("span",{className:"breadcrum-custom",children:"  Detail project"}):null]}),Object(s.jsx)("div",{className:"wrap-content",children:Object(s.jsxs)("div",{className:"box-action",children:[Object(s.jsx)("div",{className:"box-title-search",children:Object(s.jsxs)("div",{className:"box-action-content",children:["create"===this.state.params.action?Object(s.jsx)("p",{className:"font-size-search",children:"Create Project"}):null,"edit"===this.state.params.action?Object(s.jsx)("p",{className:"font-size-search",children:"Update Project"}):null,"view"===this.state.params.action?Object(s.jsx)("p",{className:"font-size-search",children:"Detail Project"}):null,Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"ddlStartDate",children:["Start Date ","view"!==this.state.params.action?Object(s.jsx)("span",{style:{color:"red"},children:"*"}):null]})}),Object(s.jsxs)("div",{className:"col-4",style:{textAlign:"start",padding:0},children:[Object(s.jsx)(C.a,{value:this.state.data.projectStartDate,disabled:"view"===this.state.params.action,displayFormat:"yyyy/MM/dd",type:"date",onValueChanged:function(t){e.handleChangeDate(t,"start")},className:"".concat(this.state.isValid_startDate&&this.state.isSubmit||this.state.greater.startDate||this.state.startGreater?"has-error-input":"")}),this.state.isValid_startDate&&this.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Ye.req}):null,this.state.greater.startDate||this.state.startGreater?Object(s.jsx)("span",{className:"color-red",children:Ye.project.validStartDatemoreEndDate}):null]})]}),Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"ddlEndDate",children:["End Date","view"!==this.state.params.action?Object(s.jsx)("span",{style:{color:"red"},children:"*"}):null]})}),Object(s.jsxs)("div",{className:"col-4",style:{textAlign:"start",padding:0},children:[Object(s.jsx)(C.a,{value:this.state.data.projectEndDate,displayFormat:"yyyy/MM/dd",disabled:"view"===this.state.params.action,type:"date",onValueChanged:function(t){e.handleChangeDate(t,"end")},className:"".concat(this.state.isValid_endDate&&this.state.isSubmit||this.state.greater.endDate||this.state.endGreater||this.state.greater.startDate?"has-error-input":"")}),this.state.isValid_endDate&&this.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Ye.req}):null,this.state.greater.endDate||this.state.greater.startDate&&!this.state.endGreater&&this.state.data.projectEndDate?Object(s.jsx)("span",{className:"color-red",children:Ye.project.validEndDatelessStartDate}):null]})]}),Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"ddlProject",children:["Project","view"!==this.state.params.action?Object(s.jsx)("span",{style:{color:"red"},children:"*"}):null]})}),Object(s.jsxs)("div",{className:"col-4",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("input",{type:"text",class:"form-control  ".concat(this.state.isValid_projectName&&this.state.isSubmit?"has-error-input":""),id:"txtProject",value:this.state.data.projectName,onChange:this.onProjectNameChange,disabled:"view"===this.state.params.action}),this.state.isValid_projectName&&this.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Ye.req}):null]})]}),Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"ddlPhase",children:["Phase","view"!==this.state.params.action?Object(s.jsx)("span",{style:{color:"red"},children:"*"}):null]})}),Object(s.jsxs)("div",{className:"col-4",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("input",{type:"text",class:"form-control  ".concat(this.state.isValid_phase&&this.state.isSubmit?"has-error-input":""),id:"txtPhase",value:this.state.data.projectPhase,onChange:this.onProjectPhaseChange,disabled:"view"===this.state.params.action}),this.state.isValid_phase&&this.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Ye.req}):null]})]}),Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"txtManDay",children:["Man Day","view"!==this.state.params.action?Object(s.jsx)("span",{style:{color:"red"}}):null]})}),Object(s.jsx)("div",{className:"col-5",style:{textAlign:"start",padding:0},children:Object(s.jsx)("input",{type:"text",class:"form-control col-5",id:"txtManDay",value:this.state.data.projectManDays,onChange:this.onManDaysChange,disabled:"view"===this.state.params.action})})]}),Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"txtDetail",children:["Detail ","view"!==this.state.params.action?Object(s.jsx)("span",{style:{color:"red"},children:"*"}):null]})}),Object(s.jsxs)("div",{className:"col-5",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("textarea",{rows:"3",type:"text",class:"form-control  ".concat(this.state.isValid_detail&&this.state.isSubmit?"has-error-input":""),id:"txtDetail",value:this.state.data.projectDetail,onChange:this.onProjectDetailChange,disabled:"view"===this.state.params.action}),this.state.isValid_detail&&this.state.isSubmit?Object(s.jsx)("span",{className:"color-red",children:Ye.req}):null]})]}),Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"txtCustomerEmail",children:["Customer Email",Object(s.jsx)("span",{style:{color:"red"}})]})}),Object(s.jsxs)("div",{className:"col-5",style:{textAlign:"start",padding:0},children:[Object(s.jsx)("input",{type:"text",class:"form-control  ".concat(this.state.isValid_email?"has-error-input":""),id:"txtCustomerEmail",value:this.state.data.customerEmail,onChange:this.onCustomerEmailChange,disabled:"view"===this.state.params.action}),this.state.isValid_email?Object(s.jsx)("span",{className:"color-red",children:Ye.project.validEmail}):null]})]}),"view"===this.state.params.action?Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"txtCreateDate",children:["CreateDate",Object(s.jsx)("span",{style:{color:"red"}})]})}),Object(s.jsx)("input",{type:"text",class:"form-control col-5",id:"txtCreateDate",disabled:"view"===this.state.params.action,value:this.state.data.createDate})]}):null,"view"===this.state.params.action?Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"txtCreateBy",children:["CreateBy",Object(s.jsx)("span",{style:{color:"red"}})]})}),Object(s.jsx)("input",{type:"text",class:"form-control col-5",id:"txtCreateBy",disabled:"view"===this.state.params.action,value:this.state.data.createBy})]}):null,"view"===this.state.params.action?Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"txtUpdateDate",children:["UpdateDate",Object(s.jsx)("span",{style:{color:"red"}})]})}),Object(s.jsx)("input",{type:"text",class:"form-control col-5",id:"txtUpdateDate",disabled:"view"===this.state.params.action,value:this.state.data.updateDate})]}):null,"view"===this.state.params.action?Object(s.jsxs)("div",{className:"row form-group",children:[Object(s.jsx)("div",{className:"col-4",style:{textAlign:"right"},children:Object(s.jsxs)("label",{className:"title-field",for:"txtUpdateBy",children:["UpdateBy",Object(s.jsx)("span",{style:{color:"red"}})]})}),Object(s.jsx)("input",{type:"text",class:"form-control col-5",id:"txtUpdateBy",disabled:"view"===this.state.params.action,value:this.state.data.updateBy})]}):null,"view"!==this.state.params.action?Object(s.jsx)("div",{style:{textAlign:"right"},children:Object(s.jsxs)("p",{className:"title-field",children:[Object(s.jsx)("span",{style:{color:"red"},children:"*"})," Items marked with an asterisk are required"]})}):null]})}),Object(s.jsx)("div",{className:"row form-group",children:Object(s.jsxs)("div",{className:"col-12",style:{textAlign:"right"},children:["view"!==this.state.params.action?Object(s.jsx)(j.b,{to:"/project",children:Object(s.jsx)("button",{class:"btn-custom btn-reset",style:{marginRight:20},children:"CANCEL"})}):null,"view"!==this.state.params.action?Object(s.jsx)("button",{class:"btn-custom btn-search",style:{marginRight:20},onClick:function(){e.setState({isSubmit:!0}),e.checkValidate()},children:"edit"===this.state.params.action?"UPDATE":"CREATE"}):null,"view"===this.state.params.action?Object(s.jsx)(j.b,{to:"/project",children:Object(s.jsx)("button",{class:"btn-custom btn-search ",style:{marginRight:20},children:"BACK"})}):null]})})]})})]})})}),Object(s.jsx)(Q.LoadPanel,{shadingColor:"rgba(0,0,0,0.4)",position:Ue,visible:this.state.loadPanelVisible}),Object(s.jsx)(U,{successStatus:this.state.isPopupSuccess,errorStatus:this.state.isPopupError,message:this.state.isPopupMsg,clearActive:function(){e.state.isPopupSuccess&&e.props.history.push("/project"),e.setState({isPopupError:!1}),e.setState({isPopupSuccess:!1})}}),Object(s.jsx)(J,{open:this.state.isOpen,type:this.state.isTypeShowConfirm,text:this.state.isTextMsg,data:this.state.isDataPopUp,del:!1,onClose:function(){e.setState({isOpen:!1})},clearActive:function(t){e.setState({isOpen:!1})},confirmActive:function(t){console.log("Work -> render -> e",t),e.confirmSave(t)}})]})}}]),a}(r.a.Component),Be=function(){return Object(s.jsxs)(v.c,{children:[Object(s.jsx)(v.a,{exact:!0,path:"/",component:y}),Object(s.jsx)(v.a,{exact:!0,path:"/jobtype",component:ce}),Object(s.jsx)(v.a,{exact:!0,path:"/project",component:ae}),Object(s.jsx)(v.a,{exact:!0,path:"/work",component:Se}),Object(s.jsx)(v.a,{exact:!0,path:"/work/:query?",render:function(e){return Object(s.jsx)(Ve,Object(g.a)({},e))}}),Object(s.jsx)(v.a,{exact:!0,path:"/project/:query?",render:function(e){return Object(s.jsx)(Je,Object(g.a)({},e))}}),Object(s.jsx)(v.a,{exact:!0,path:"/jobtype/:query?",render:function(e){return Object(s.jsx)(ze,Object(g.a)({},e))}})]})},qe=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)(O.a,{children:Object(s.jsx)(f.a,{children:Object(s.jsxs)(f.a,{children:[Object(s.jsx)(x,{}),Object(s.jsx)("div",{className:"gx-main-content-wrapper",children:Object(s.jsx)(Be,{})})]})})})}}]),a}(i.Component),Ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,647)).then((function(t){var a=t.getCLS,s=t.getFID,i=t.getFCP,r=t.getLCP,n=t.getTTFB;a(e),s(e),i(e),r(e),n(e)}))},$e=a(190),Qe=Object($e.c)(Object($e.a)(Me.a));c.a.render(Object(s.jsx)(Ae.a,{store:Qe,children:Object(s.jsx)(j.a,{children:Object(s.jsx)(qe,{})})}),document.getElementById("root")),Ke()}},[[631,1,2]]]);
//# sourceMappingURL=main.6be60312.chunk.js.map